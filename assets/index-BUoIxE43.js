(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var bm={exports:{}},Fl={};var Jv;function XA(){if(Jv)return Fl;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var Zv;function WA(){return Zv||(Zv=1,bm.exports=XA()),bm.exports}var N=WA(),Sm={exports:{}},Se={};var eE;function JA(){if(eE)return Se;eE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,H={};function ne(k,J,ae){this.props=k,this.context=J,this.refs=H,this.updater=ae||F}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function te(){}te.prototype=ne.prototype;function ie(k,J,ae){this.props=k,this.context=J,this.refs=H,this.updater=ae||F}var fe=ie.prototype=new te;fe.constructor=ie,K(fe,ne.prototype),fe.isPureReactComponent=!0;var Te=Array.isArray;function ve(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(k,J,ae){var ue=ae.ref;return{$$typeof:r,type:k,key:J,ref:ue!==void 0?ue:null,props:ae}}function V(k,J){return R(k.type,J,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function U(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return J[ae]})}var I=/\/+/g;function st(k,J){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):J.toString(36)}function kt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ve,ve):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,J,ae,ue,Ee){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=k._init,$(Ue(k._payload),J,ae,ue,Ee)}}if(Ue)return Ee=Ee(k),Ue=ue===""?"."+st(k,0):ue,Te(Ee)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),$(Ee,J,ae,"",function(Es){return Es})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+Ue)),J.push(Ee)),1;Ue=0;var Mt=ue===""?".":ue+":";if(Te(k))for(var at=0;at<k.length;at++)ue=k[at],Ce=Mt+st(ue,at),Ue+=$(ue,J,ae,Ce,Ee);else if(at=M(k),typeof at=="function")for(k=at.call(k),at=0;!(ue=k.next()).done;)ue=ue.value,Ce=Mt+st(ue,at++),Ue+=$(ue,J,ae,Ce,Ee);else if(Ce==="object"){if(typeof k.then=="function")return $(kt(k),J,ae,ue,Ee);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(k,J,ae){if(k==null)return k;var ue=[],Ee=0;return $(k,ue,"","",function(Ce){return J.call(ae,Ce,Ee++)}),ue}function pe(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var ze=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:se,forEach:function(k,J,ae){se(k,function(){J.apply(this,arguments)},ae)},count:function(k){var J=0;return se(k,function(){J++}),J},toArray:function(k){return se(k,function(J){return J})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=T,Se.Children=Ge,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,J,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=K({},k.props),Ee=k.key;if(J!=null)for(Ce in J.key!==void 0&&(Ee=""+J.key),J)!w.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ue[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Ue=Array(Ce),Mt=0;Mt<Ce;Mt++)Ue[Mt]=arguments[Mt+2];ue.children=Ue}return R(k.type,Ee,ue)},Se.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,J,ae){var ue,Ee={},Ce=null;if(J!=null)for(ue in J.key!==void 0&&(Ce=""+J.key),J)w.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=J[ue]);var Ue=arguments.length-2;if(Ue===1)Ee.children=ae;else if(1<Ue){for(var Mt=Array(Ue),at=0;at<Ue;at++)Mt[at]=arguments[at+2];Ee.children=Mt}if(k&&k.defaultProps)for(ue in Ue=k.defaultProps,Ue)Ee[ue]===void 0&&(Ee[ue]=Ue[ue]);return R(k,Ce,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=O,Se.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},Se.memo=function(k,J){return{$$typeof:g,type:k,compare:J===void 0?null:J}},Se.startTransition=function(k){var J=C.T,ae={};C.T=ae;try{var ue=k(),Ee=C.S;Ee!==null&&Ee(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,ze)}catch(Ce){ze(Ce)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),C.T=J}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(k){return C.H.use(k)},Se.useActionState=function(k,J,ae){return C.H.useActionState(k,J,ae)},Se.useCallback=function(k,J){return C.H.useCallback(k,J)},Se.useContext=function(k){return C.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,J){return C.H.useDeferredValue(k,J)},Se.useEffect=function(k,J){return C.H.useEffect(k,J)},Se.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(k,J,ae){return C.H.useImperativeHandle(k,J,ae)},Se.useInsertionEffect=function(k,J){return C.H.useInsertionEffect(k,J)},Se.useLayoutEffect=function(k,J){return C.H.useLayoutEffect(k,J)},Se.useMemo=function(k,J){return C.H.useMemo(k,J)},Se.useOptimistic=function(k,J){return C.H.useOptimistic(k,J)},Se.useReducer=function(k,J,ae){return C.H.useReducer(k,J,ae)},Se.useRef=function(k){return C.H.useRef(k)},Se.useState=function(k){return C.H.useState(k)},Se.useSyncExternalStore=function(k,J,ae){return C.H.useSyncExternalStore(k,J,ae)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.4",Se}var tE;function Sp(){return tE||(tE=1,Sm.exports=JA()),Sm.exports}var B=Sp(),Am={exports:{}},Gl={},wm={exports:{}},Rm={};var nE;function ZA(){return nE||(nE=1,(function(r){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var ze=pe-1>>>1,Ge=$[ze];if(0<o(Ge,se))$[ze]=se,$[pe]=Ge,pe=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var ze=0,Ge=$.length,k=Ge>>>1;ze<k;){var J=2*(ze+1)-1,ae=$[J],ue=J+1,Ee=$[ue];if(0>o(ae,pe))ue<Ge&&0>o(Ee,ae)?($[ze]=Ee,$[ue]=pe,ze=ue):($[ze]=ae,$[J]=pe,ze=J);else if(ue<Ge&&0>o(Ee,pe))$[ze]=Ee,$[ue]=pe,ze=ue;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,M=!1,F=!1,K=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=$)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Te($){if(K=!1,fe($),!F)if(n(p)!==null)F=!0,ve||(ve=!0,U());else{var se=n(g);se!==null&&kt(Te,se.startTime-$)}}var ve=!1,C=-1,w=5,R=-1;function V(){return H?!0:!(r.unstable_now()-R<w)}function O(){if(H=!1,ve){var $=r.unstable_now();R=$;var se=!0;try{e:{F=!1,K&&(K=!1,te(C),C=-1),M=!0;var pe=A;try{t:{for(fe($),T=n(p);T!==null&&!(T.expirationTime>$&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,A=T.priorityLevel;var Ge=ze(T.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,fe($),se=!0;break t}T===n(p)&&s(p),fe($)}else s(p);T=n(p)}if(T!==null)se=!0;else{var k=n(g);k!==null&&kt(Te,k.startTime-$),se=!1}}break e}finally{T=null,A=pe,M=!1}se=void 0}}finally{se?U():ve=!1}}}var U;if(typeof ie=="function")U=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=O,U=function(){st.postMessage(null)}}else U=function(){ne(O,0)};function kt($,se){C=ne(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return $()}finally{A=pe}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=A;A=$;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function($,se,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>ze?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(K?(te(C),C=-1):K=!0,kt(Te,pe-ze))):($.sortIndex=Ge,e(p,$),F||M||(F=!0,ve||(ve=!0,U()))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var se=A;return function(){var pe=A;A=se;try{return $.apply(this,arguments)}finally{A=pe}}}})(Rm)),Rm}var iE;function ew(){return iE||(iE=1,wm.exports=ZA()),wm.exports}var Cm={exports:{}},Wt={};var rE;function tw(){if(rE)return Wt;rE=1;var r=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var sE;function nw(){if(sE)return Cm.exports;sE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=tw(),Cm.exports}var aE;function iw(){if(aE)return Gl;aE=1;var r=ew(),e=Sp(),n=nw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case Te:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var kt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function k(t){return{current:t}}function J(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=k(null),Ee=k(null),Ce=k(null),Ue=k(null);function Mt(t,i){switch(ae(Ce,i),ae(Ee,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Tv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Tv(i),t=bv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),ae(ue,t)}function at(){J(ue),J(Ee),J(Ce)}function Es(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=bv(i,t.type);i!==a&&(ae(Ee,t),ae(ue,a))}function Ea(t){Ee.current===t&&(J(ue),J(Ee)),Ue.current===t&&(J(Ue),jl._currentValue=pe)}var Ta,ba;function li(t){if(Ta===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ta=i&&i[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+ba}var jo=!1;function Ts(t,i){if(!t||jo)return"";jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var q=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){q=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){q=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),j=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Bo(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return li("Activity");default:return""}}function qo(t){try{var i="",a=null;do i+=Bo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,Af=r.unstable_shouldYield,Vu=r.unstable_requestPaint,nn=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,Ho=r.unstable_ImmediatePriority,Fo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Pu=r.unstable_IdlePriority,Uu=r.log,Lu=r.unstable_setDisableYieldValue,Fn=null,qt=null;function In(t){if(typeof Uu=="function"&&Lu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Fn,t)}catch{}}var mt=Math.clz32?Math.clz32:ju,zu=Math.log,Sa=Math.LN2;function ju(t){return t>>>=0,t===0?32:31-(zu(t)/Sa|0)|0}var ui=256,Ss=262144,Tt=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=ci(l):(_&=b,_!==0?f=ci(_):a||(a=b&~t,a!==0&&(f=ci(a))))):(b=l&~d,b!==0?f=ci(b):_!==0?f=ci(_):a||(a=l&~t,a!==0&&(f=ci(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Rf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-mt(a),W=1<<Q;b[Q]=0,D[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var Y=q[Q];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&ws(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Go(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Ko(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function Kn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Yn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,di="__reactContainer$"+Yn,Aa="__reactEvents$"+Yn,If="__reactListeners$"+Yn,Hu="__reactHandles$"+Yn,Fu="__reactResources$"+Yn,mi="__reactMarker$"+Yn;function wa(t){delete t[bt],delete t[Lt],delete t[Aa],delete t[If],delete t[Hu]}function pi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dv(t);t!==null;){if(a=t[bt])return a;t=Dv(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[bt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Fu];return i||(i=t[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[mi]=!0}var Yo=new Set,Qo={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Qo[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Wo={};function Gu(t){return Et.call(Wo,t)?!0:Et.call(Xo,t)?!1:$o.test(t)?Wo[t]=!0:(Xo[t]=!0,!1)}function Ra(t,i,a){if(Gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function on(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ca(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,_,zt(i)):a!=null?Zo(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function Ku(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Zo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Yu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function tl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&el(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&el(t,d,i[d])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var nl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Ei=null;function Ds(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":Yu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Na=!1;function Ar(t,i,a){if(Na)return t(i,a);Na=!0;try{var l=t(i);return l}finally{if(Na=!1,(Sr!==null||Ei!==null)&&(qc(),Sr&&(i=Sr,t=Ei,Ei=Sr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(xn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ns=!1}var Ti=null,il=null,xs=null;function rl(){if(xs)return xs;var t,i=il,a=i.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return xs=f.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Xn(){return!1}function Ht(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ht(Hi),wr=T({},Hi,{view:0,detail:0}),sl=Ht(wr),Rr,xa,Si,Oa=T({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Rr=t.screenX-Si.screenX,xa=t.screenY-Si.screenY):xa=Rr=0,Si=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),al=Ht(Oa),ks=T({},Oa,{dataTransfer:0}),Xu=Ht(ks),Wu=T({},wr,{relatedTarget:0}),Ms=Ht(Wu),ol=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=Ht(ol),ka=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zu=Ht(ka),ec=T({},Hi,{data:0}),Ai=Ht(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ic[t])?!!i[t]:!1}function Cr(){return rc}var rn=T({},wr,{key:function(t){if(t.key){var i=tc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sc=Ht(rn),ac=T({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ht(ac),c=T({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Ht(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),L=T({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(L),re=T({},Hi,{newState:0,oldState:0}),we=Ht(re),pt=[9,13,27,32],qe=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var On=xn&&"TextEvent"in window&&!ot,wi=xn&&(!qe||ot&&8<ot&&11>=ot),Wn=" ",Jn=!1;function Vs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function E1(t,i){switch(t){case"compositionend":return Ma(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function T1(t,i){if(Va)return t==="compositionend"||!qe&&Vs(t,i)?(t=rl(),xs=il=Ti=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!b1[t.type]:i==="textarea"}function kg(t,i,a,l){Sr?Ei?Ei.push(l):Ei=[l]:Sr=l,i=$c(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ll=null,ul=null;function S1(t){pv(t,0)}function oc(t){var i=gn(t);if(Cs(i))return t}function Mg(t,i){if(t==="change")return i}var Vg=!1;if(xn){var Df;if(xn){var Nf="oninput"in document;if(!Nf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Nf=typeof Pg.oninput=="function"}Df=Nf}else Df=!1;Vg=Df&&(!document.documentMode||9<document.documentMode)}function Ug(){ll&&(ll.detachEvent("onpropertychange",Lg),ul=ll=null)}function Lg(t){if(t.propertyName==="value"&&oc(ul)){var i=[];kg(i,ul,t,Nn(t)),Ar(S1,i)}}function A1(t,i,a){t==="focusin"?(Ug(),ll=i,ul=a,ll.attachEvent("onpropertychange",Lg)):t==="focusout"&&Ug()}function w1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(ul)}function R1(t,i){if(t==="click")return oc(i)}function C1(t,i){if(t==="input"||t==="change")return oc(i)}function I1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:I1;function cl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,i){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var D1=xn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Of=null,hl=null,kf=!1;function Hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Pa==null||Pa!==vi(l)||(l=Pa,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=$c(Of,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Pa)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Mf={},Fg={};xn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Us(t){if(Mf[t])return Mf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Mf[t]=i[a];return t}var Gg=Us("animationend"),Kg=Us("animationiteration"),Yg=Us("animationstart"),N1=Us("transitionrun"),x1=Us("transitionstart"),O1=Us("transitioncancel"),Qg=Us("transitionend"),$g=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Zn(t,i){$g.set(t,i),yi(i,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],La=0,Pf=0;function uc(){for(var t=La,i=Pf=La=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function cc(t,i,a,l){kn[La++]=t,kn[La++]=i,kn[La++]=a,kn[La++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,i,a,l){return cc(t,i,a,l),hc(t)}function Ls(t,i){return cc(t,null,null,i),hc(t)}function Xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function hc(t){if(50<kl)throw kl=0,Kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function k1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new k1(t,i,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Lf(t)&&(_=1);else if(typeof t=="string")_=LA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,f),t.elementType=R,t.lanes=d,t;case K:return zs(a.children,f,d,i);case H:_=8,f|=24;break;case ne:return t=vn(12,a,i,f|2),t.elementType=ne,t.lanes=d,t;case Te:return t=vn(13,a,i,f),t.elementType=Te,t.lanes=d,t;case ve:return t=vn(19,a,i,f),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case fe:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function zf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Jg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function jf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:qo(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:qo(i)}}var ja=[],Ba=0,dc=null,fl=0,Vn=[],Pn=0,Ir=null,Ri=1,Ci="";function Ki(t,i){ja[Ba++]=fl,ja[Ba++]=dc,dc=t,fl=i}function ey(t,i,a){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Ir,Ir=t;var l=Ri;t=Ci;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-mt(i)+f|a<<f|l,Ci=d+t}else Ri=1<<d|a<<f|l,Ci=t}function Bf(t){t.return!==null&&(Ki(t,1),ey(t,1,0))}function qf(t){for(;t===dc;)dc=ja[--Ba],ja[Ba]=null,fl=ja[--Ba],ja[Ba]=null;for(;t===Ir;)Ir=Vn[--Pn],Vn[Pn]=null,Ci=Vn[--Pn],Vn[Pn]=null,Ri=Vn[--Pn],Vn[Pn]=null}function ty(t,i){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Ir,Ri=i.id,Ci=i.overflow,Ir=t}var Ft=null,tt=null,Pe=!1,Dr=null,Un=!1,Hf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Mn(i,t)),Hf}function ny(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Ne(Vl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||vv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Nr(t,!0)}function iy(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function qa(t){if(t!==Ft)return!1;if(!Pe)return iy(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&tt&&Nr(t),iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Iv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Iv(t)}else i===27?(i=tt,Fr(t.type)?(t=fm,fm=null,tt=t):tt=i):tt=Ft?zn(t.stateNode.nextSibling):null;return!0}function js(){tt=Ft=null,Pe=!1}function Ff(){var t=Dr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Dr=null),t}function dl(t){Dr===null?Dr=[t]:Dr.push(t)}var Gf=k(null),Bs=null,Yi=null;function xr(t,i,a){ae(Gf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Gf.current,J(Gf)}function Kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Kf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Kf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&Yf(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return ry(Bs,t)}function pc(t,i){return Bs===null&&qs(t),ry(t,i)}function ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var M1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},V1=r.unstable_scheduleCallback,P1=r.unstable_NormalPriority,wt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new M1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&V1(P1,function(){t.controller.abort()})}var pl=null,$f=0,Fa=0,Ga=null;function U1(t,i){if(pl===null){var a=pl=[];$f=0,Fa=Jd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,i.then(sy,sy),i}function sy(){if(--$f===0&&pl!==null){Ga!==null&&(Ga.status="fulfilled");var t=pl;pl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function L1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=$.S;$.S=function(t,i){H_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&U1(t,i),ay!==null&&ay(t,i)};var Hs=k(null);function Xf(){var t=Hs.current;return t!==null?t:Ze.pooledCache}function gc(t,i){i===null?ae(Hs,Hs.current):ae(Hs,i.pool)}function oy(){var t=Xf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ka=Error(s(460)),Wf=Error(s(474)),yc=Error(s(542)),_c={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t}throw Gs=i,Ka}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Ka):a}}var Gs=null;function cy(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function hy(t){if(t===Ka||t===yc)throw Error(s(483))}var Ya=null,gl=0;function vc(t){var i=gl;return gl+=1,Ya===null&&(Ya=[]),uy(Ya,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fy(t){function i(P,x){if(t){var z=P.deletions;z===null?(P.deletions=[x],P.flags|=16):z.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function f(P,x){return P=Gi(P,x),P.index=0,P.sibling=null,P}function d(P,x,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<x?(P.flags|=67108866,x):z):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,x,z,X){return x===null||x.tag!==6?(x=zf(z,P.mode,X),x.return=P,x):(x=f(x,z),x.return=P,x)}function D(P,x,z,X){var de=z.type;return de===K?Q(P,x,z.props.children,X,z.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Fs(de)===x.type)?(x=f(x,z.props),yl(x,z),x.return=P,x):(x=fc(z.type,z.key,z.props,null,P.mode,X),yl(x,z),x.return=P,x)}function j(P,x,z,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=jf(z,P.mode,X),x.return=P,x):(x=f(x,z.children||[]),x.return=P,x)}function Q(P,x,z,X,de){return x===null||x.tag!==7?(x=zs(z,P.mode,X,de),x.return=P,x):(x=f(x,z),x.return=P,x)}function W(P,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=zf(""+x,P.mode,z),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case M:return z=fc(x.type,x.key,x.props,null,P.mode,z),yl(z,x),z.return=P,z;case F:return x=jf(x,P.mode,z),x.return=P,x;case w:return x=Fs(x),W(P,x,z)}if(kt(x)||U(x))return x=zs(x,P.mode,z,null),x.return=P,x;if(typeof x.then=="function")return W(P,vc(x),z);if(x.$$typeof===ie)return W(P,pc(P,x),z);Ec(P,x)}return null}function q(P,x,z,X){var de=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:b(P,x,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===de?D(P,x,z,X):null;case F:return z.key===de?j(P,x,z,X):null;case w:return z=Fs(z),q(P,x,z,X)}if(kt(z)||U(z))return de!==null?null:Q(P,x,z,X,null);if(typeof z.then=="function")return q(P,x,vc(z),X);if(z.$$typeof===ie)return q(P,x,pc(P,z),X);Ec(P,z)}return null}function Y(P,x,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,b(x,P,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return P=P.get(X.key===null?z:X.key)||null,D(x,P,X,de);case F:return P=P.get(X.key===null?z:X.key)||null,j(x,P,X,de);case w:return X=Fs(X),Y(P,x,z,X,de)}if(kt(X)||U(X))return P=P.get(z)||null,Q(x,P,X,de,null);if(typeof X.then=="function")return Y(P,x,z,vc(X),de);if(X.$$typeof===ie)return Y(P,x,z,pc(x,X),de);Ec(x,X)}return null}function ce(P,x,z,X){for(var de=null,je=null,he=x,Ie=x=0,Oe=null;he!==null&&Ie<z.length;Ie++){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Be=q(P,he,z[Ie],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(P,he),x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be,he=Oe}if(Ie===z.length)return a(P,he),Pe&&Ki(P,Ie),de;if(he===null){for(;Ie<z.length;Ie++)he=W(P,z[Ie],X),he!==null&&(x=d(he,x,Ie),je===null?de=he:je.sibling=he,je=he);return Pe&&Ki(P,Ie),de}for(he=l(he);Ie<z.length;Ie++)Oe=Y(he,P,Ie,z[Ie],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ie:Oe.key),x=d(Oe,x,Ie),je===null?de=Oe:je.sibling=Oe,je=Oe);return t&&he.forEach(function($r){return i(P,$r)}),Pe&&Ki(P,Ie),de}function ge(P,x,z,X){if(z==null)throw Error(s(151));for(var de=null,je=null,he=x,Ie=x=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ie++,Be=z.next()){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var $r=q(P,he,Be.value,X);if($r===null){he===null&&(he=Oe);break}t&&he&&$r.alternate===null&&i(P,he),x=d($r,x,Ie),je===null?de=$r:je.sibling=$r,je=$r,he=Oe}if(Be.done)return a(P,he),Pe&&Ki(P,Ie),de;if(he===null){for(;!Be.done;Ie++,Be=z.next())Be=W(P,Be.value,X),Be!==null&&(x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be);return Pe&&Ki(P,Ie),de}for(he=l(he);!Be.done;Ie++,Be=z.next())Be=Y(he,P,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be);return t&&he.forEach(function($A){return i(P,$A)}),Pe&&Ki(P,Ie),de}function Je(P,x,z,X){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var de=z.key;x!==null;){if(x.key===de){if(de=z.type,de===K){if(x.tag===7){a(P,x.sibling),X=f(x,z.props.children),X.return=P,P=X;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Fs(de)===x.type){a(P,x.sibling),X=f(x,z.props),yl(X,z),X.return=P,P=X;break e}a(P,x);break}else i(P,x);x=x.sibling}z.type===K?(X=zs(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=fc(z.type,z.key,z.props,null,P.mode,X),yl(X,z),X.return=P,P=X)}return _(P);case F:e:{for(de=z.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(P,x.sibling),X=f(x,z.children||[]),X.return=P,P=X;break e}else{a(P,x);break}else i(P,x);x=x.sibling}X=jf(z,P.mode,X),X.return=P,P=X}return _(P);case w:return z=Fs(z),Je(P,x,z,X)}if(kt(z))return ce(P,x,z,X);if(U(z)){if(de=U(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ge(P,x,z,X)}if(typeof z.then=="function")return Je(P,x,vc(z),X);if(z.$$typeof===ie)return Je(P,x,pc(P,z),X);Ec(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(P,x.sibling),X=f(x,z),X.return=P,P=X):(a(P,x),X=zf(z,P.mode,X),X.return=P,P=X),_(P)):a(P,x)}return function(P,x,z,X){try{gl=0;var de=Je(P,x,z,X);return Ya=null,de}catch(he){if(he===Ka||he===yc)throw he;var je=vn(29,he,null,P.mode);return je.lanes=X,je.return=P,je}}}var Ks=fy(!0),dy=fy(!1),Or=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=hc(t),Xg(t,null,a),i}return cc(t,l,i,a),hc(t)}function _l(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}function ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var td=!1;function vl(){if(td){var t=Ga;if(t!==null)throw t}}function El(t,i,a,l){td=!1;var f=t.updateQueue;Or=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==_&&(b===null?Q.firstBaseUpdate=j:b.next=j,Q.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;_=0,Q=j=D=null,b=d;do{var q=b.lane&-536870913,Y=q!==b.lane;if(Y?(xe&q)===q:(l&q)===q){q!==0&&q===Fa&&(td=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ge=b;q=i;var Je=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Je,W,q);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,q=typeof ce=="function"?ce.call(Je,W,q):ce,q==null)break e;W=T({},W,q);break e;case 2:Or=!0}}q=b.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(j=Q=Y,D=W):Q=Q.next=Y,_|=q;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=W}}function my(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)my(a[t],i)}var Qa=k(null),Tc=k(0);function gy(t,i){t=ir,ae(Tc,t),ae(Qa,i),ir=t|i.baseLanes}function nd(){ae(Tc,ir),ae(Qa,Qa.current)}function id(){ir=Tc.current,J(Qa),J(Tc)}var En=k(null),Ln=null;function Vr(t){var i=t.alternate;ae(gt,gt.current&1),ae(En,t),Ln===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Ln=t)}function rd(t){ae(gt,gt.current),ae(En,t),Ln===null&&(Ln=t)}function yy(t){t.tag===22?(ae(gt,gt.current),ae(En,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(gt,gt.current),ae(En,En.current)}function Tn(t){J(En),Ln===t&&(Ln=null),J(gt)}var gt=k(0);function bc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Re=null,Xe=null,Rt=null,Sc=!1,$a=!1,Ys=!1,Ac=0,Tl=0,Xa=null,z1=0;function ft(){throw Error(s(321))}function sd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function ad(t,i,a,l,f,d){return $i=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?e_:Td,Ys=!1,d=a(l,f),Ys=!1,$a&&(d=vy(i,a,l,f)),_y(t),d}function _y(t){$.H=Al;var i=Xe!==null&&Xe.next!==null;if($i=0,Rt=Xe=Re=null,Sc=!1,Tl=0,Xa=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&mc(t)&&(Ct=!0))}function vy(t,i,a,l){Re=t;var f=0;do{if($a&&(Xa=null),Tl=0,$a=!1,25<=f)throw Error(s(301));if(f+=1,Rt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=t_,d=i(a,l)}while($a);return d}function j1(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function od(){var t=Ac!==0;return Ac=0,t}function ld(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ud(t){if(Sc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Sc=!1}$i=0,Rt=Xe=Re=null,$a=!1,Tl=Ac=0,Xa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=Tl;return Tl+=1,Xa===null&&(Xa=[]),t=uy(Xa,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?e_:Td),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function cd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function Cc(t){var i=yt();return hd(i,Xe,t)}function hd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,D=null,j=i,Q=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(xe&W)===W:($i&W)===W){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===Fa&&(Q=!0);else if(($i&q)===q){j=j.next,q===Fa&&(Q=!0);continue}else W={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(b=D=W,_=d):D=D.next=W,Re.lanes|=q,zr|=q;W=j.action,Ys&&a(d,W),d=j.hasEagerState?j.eagerState:a(d,W)}else q={lane:W,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(b=D=q,_=d):D=D.next=q,Re.lanes|=W,zr|=W;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=b,!_n(d,t.memoizedState)&&(Ct=!0,Q&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(t,i,a){var l=Re,f=yt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,pd(Sy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},by.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||($i&127)!==0||Ty(l,i,a)}return a}function Ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=wc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&wy(t)}function Sy(t,i,a){return a(function(){Ay(i)&&wy(t)})}function Ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function wy(t){var i=Ls(t,2);i!==null&&dn(i,t,2)}function dd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ys){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function Ry(t,i,a,l){return t.baseState=a,hd(t,Xe,typeof l=="function"?l:Xi)}function B1(t,i,a,l,f){if(Nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Cy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var b=a(f,l),D=$.S;D!==null&&D(_,b),Iy(t,i,b)}catch(j){md(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Iy(t,i,d)}catch(j){md(t,i,j)}}function Iy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(t,i,l)},function(l){return md(t,i,l)}):Dy(t,i,a)}function Dy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cy(t,a)))}function md(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Oy(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Pe){if(tt){t:{for(var f=tt,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=zn(f.nextSibling),l=f.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=l,a=Wy.bind(null,Re,l),l.dispatch=a,l=dd(!1),d=Ed.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=B1.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function ky(t){var i=yt();return My(i,Xe,t)}function My(t,i,a){if(i=hd(t,i,xy)[0],t=Cc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(_){throw _===Ka?yc:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Wa(9,{destroy:void 0},q1.bind(null,f,a),null)),[l,d,t]}function q1(t,i){t.action=i}function Vy(t){var i=yt(),a=Xe;if(a!==null)return My(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=wc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Py(){return yt().memoizedState}function Ic(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Dc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&sd(l,Xe.memoizedState.deps)?f.memoizedState=Wa(i,d,a,l):(Re.flags|=t,f.memoizedState=Wa(1|i,d,a,l))}function Uy(t,i){Ic(8390656,8,t,i)}function pd(t,i){Dc(2048,8,t,i)}function H1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=wc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ly(t){var i=yt().memoizedState;return H1({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function zy(t,i){return Dc(4,2,t,i)}function jy(t,i){return Dc(4,4,t,i)}function By(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qy(t,i,a){a=a!=null?a.concat([t]):null,Dc(4,4,By.bind(null,i,t),a)}function gd(){}function Hy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sd(i,l[1]))return l[0];if(l=t(),Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function yd(t,i,a){return a===void 0||($i&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=G_(),Re.lanes|=t,zr|=t,a)}function Gy(t,i,a,l){return _n(a,i)?a:Qa.current!==null?(t=yd(t,a,l),_n(t,i)||(Ct=!0),t):($i&42)===0||($i&1073741824)!==0&&(xe&261930)===0?(Ct=!0,t.memoizedState=a):(t=G_(),Re.lanes|=t,zr|=t,i)}function Ky(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,Ed(t,!1,i,a);try{var D=f(),j=$.S;if(j!==null&&j(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=L1(D,l);Sl(t,i,Q,An(t))}else Sl(t,i,l,An(t))}catch(W){Sl(t,i,{then:function(){},status:"rejected",reason:W},An())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),$.T=_}}function F1(){}function _d(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Yy(t).queue;Ky(t,f,i,pe,a===null?F1:function(){return Qy(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Qy(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},An())}function vd(){return Gt(jl)}function $y(){return yt().memoizedState}function Xy(){return yt().memoizedState}function G1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=kr(a);var l=Mr(i,t,a);l!==null&&(dn(l,i,a),_l(l,i,a)),i={cache:Qf()},t.payload=i;return}i=i.return}}function K1(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?Jy(i,a):(a=Uf(t,i,a,l),a!==null&&(dn(a,t,l),Zy(a,i,l)))}function Wy(t,i,a){var l=An();Sl(t,i,a,l)}function Sl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))Jy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return cc(t,i,f,0),Ze===null&&uc(),!1}catch{}if(a=Uf(t,i,f,l),a!==null)return dn(a,t,l),Zy(a,i,l),!0}return!1}function Ed(t,i,a,l){if(l={lane:2,revertLane:Jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(i)throw Error(s(479))}else i=Uf(t,a,l,2),i!==null&&dn(i,t,2)}function Nc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Jy(t,i){$a=Sc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}var Al={readContext:Gt,use:Rc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Al.useEffectEvent=ft;var e_={readContext:Gt,use:Rc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,By.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Ys){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=K1.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=dd(t);var i=t.queue,a=Wy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(t,i){var a=sn();return yd(a,t,i)},useTransition:function(){var t=dd(!1);return t=Ky.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(xe&127)!==0||Ty(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Uy(Sy.bind(null,l,d,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=Ze.identifierPrefix;if(Pe){var a=Ci,l=Ri;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=z1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ed.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return sn().memoizedState=G1.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Td={readContext:Gt,use:Rc,useCallback:Hy,useContext:Gt,useEffect:pd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:Cc,useRef:Py,useState:function(){return Cc(Xi)},useDebugValue:gd,useDeferredValue:function(t,i){var a=yt();return Gy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Cc(Xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:vd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=yt();return Ry(a,Xe,t,i)},useMemoCache:cd,useCacheRefresh:Xy};Td.useEffectEvent=Ly;var t_={readContext:Gt,use:Rc,useCallback:Hy,useContext:Gt,useEffect:pd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:fd,useRef:Py,useState:function(){return fd(Xi)},useDebugValue:gd,useDeferredValue:function(t,i){var a=yt();return Xe===null?yd(a,t,i):Gy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=fd(Xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:vd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=yt();return Xe!==null?Ry(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Xy};t_.useEffectEvent=Ly;function bd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),f=kr(l);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(dn(i,t,l),_l(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),f=kr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(dn(i,t,l),_l(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(dn(i,t,a),_l(i,t,a))}};function n_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(f,d):!0}function i_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Sd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function r_(t){lc(t)}function s_(t){console.error(t)}function a_(t){lc(t)}function xc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function o_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,i)},a}function l_(t){return t=kr(t),t.tag=3,t}function u_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){o_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){o_(i,a,l),typeof f!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Y1(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Hc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_c?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$d(t,l,f)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$d(t,l,f)),!1}throw Error(s(435,a.tag))}return $d(t,l,f),Hc(),!1}if(Pe)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Hf&&(t=Error(s(422),{cause:l}),dl(Mn(t,a)))):(l!==Hf&&(i=Error(s(423),{cause:l}),dl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=Ad(t.stateNode,l,f),ed(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Ol===null?Ol=[d]:Ol.push(d),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ad(a.stateNode,l,t),ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=l_(f),u_(f,t,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var wd=Error(s(461)),Ct=!1;function Kt(t,i,a,l){i.child=t===null?dy(i,null,a,l):Ks(i,t.child,a,l)}function c_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return qs(i),l=ad(t,i,a,_,d,f),b=od(),t!==null&&!Ct?(ld(t,i,f),Wi(t,i,f)):(Pe&&b&&Bf(i),i.flags|=1,Kt(t,i,l,f),i.child)}function h_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,f_(t,i,d,l,f)):(t=fc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function f_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return Rd(t,i,a,l,f)}function d_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return m_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?gy(i,d):nd(),yy(i);else return l=i.lanes=536870912,m_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(i,d.cachePool),gy(i,d),Pr(),i.memoizedState=null):(t!==null&&gc(i,null),nd(),Pr());return Kt(t,i,f,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function m_(t,i,a,l,f){var d=Xf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(i,null),nd(),yy(i),t!==null&&Ha(t,i,l,!0),i.childLanes=f,null}function Oc(t,i){return i=Mc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function p_(t,i,a){return Ks(i,t.child,null,a),t=Oc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Q1(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Oc(i,l),i.lanes=536870912,wl(null,t);if(rd(i),(t=tt)?(t=Cv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return Oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),f)if(i.flags&256)i.flags&=-257,i=p_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Ha(t,i,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=Ze,l!==null&&(_=Ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),dn(l,t,_),wd;Hc(),i=p_(t,i,a)}else t=d.treeContext,tt=zn(_.nextSibling),Ft=i,Pe=!0,Dr=null,Un=!1,t!==null&&ty(i,t),i=Oc(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rd(t,i,a,l,f){return qs(i),a=ad(t,i,a,l,void 0,f),l=od(),t!==null&&!Ct?(ld(t,i,f),Wi(t,i,f)):(Pe&&l&&Bf(i),i.flags|=1,Kt(t,i,a,f),i.child)}function g_(t,i,a,l,f,d){return qs(i),i.updateQueue=null,a=vy(i,l,a,f),_y(t),l=od(),t!==null&&!Ct?(ld(t,i,d),Wi(t,i,d)):(Pe&&l&&Bf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function y_(t,i,a,l,f){if(qs(i),i.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(bd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Sd.enqueueReplaceState(d,d.state,null),El(i,l,d,f),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=Qs(a,b);d.props=D;var j=d.context,Q=a.contextType;_=za,typeof Q=="object"&&Q!==null&&(_=Gt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==_)&&i_(i,d,l,_),Or=!1;var q=i.memoizedState;d.state=q,El(i,l,d,f),vl(),j=i.memoizedState,b||q!==j||Or?(typeof W=="function"&&(bd(i,a,W,l),j=i.memoizedState),(D=Or||n_(i,a,D,l,q,j,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(t,i),_=i.memoizedProps,Q=Qs(a,_),d.props=Q,W=i.pendingProps,q=d.context,j=a.contextType,D=za,typeof j=="object"&&j!==null&&(D=Gt(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==D)&&i_(i,d,l,D),Or=!1,q=i.memoizedState,d.state=q,El(i,l,d,f),vl();var Y=i.memoizedState;_!==W||q!==Y||Or||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof b=="function"&&(bd(i,a,b,l),Y=i.memoizedState),(Q=Or||n_(i,a,Q,l,q,Y,D)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,f),i.child=Ks(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function __(t,i,a,l){return js(),i.flags|=256,Kt(t,i,a,l),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:oy()}}function Dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function v_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Vr(i):Pr(),(t=tt)?(t=Cv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,Ft=i,tt=null)):t=null,t===null)throw Nr(i);return hm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Pr(),f=i.mode,b=Mc({mode:"hidden",children:b},f),l=zs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Id(a),l.childLanes=Dd(t,_,a),i.memoizedState=Cd,wl(null,l)):(Vr(i),Nd(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=xd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),b=l.fallback,f=i.mode,l=Mc({mode:"visible",children:l.children},f),b=zs(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=Dd(t,_,a),i.memoizedState=Cd,i=wl(null,l));else if(Vr(i),hm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),i=xd(t,i,a)}else if(Ct||Ha(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=Ze,_!==null&&(l=Ko(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ls(t,l),dn(_,t,l),wd;cm(b)||Hc(),i=xd(t,i,a)}else cm(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,tt=zn(b.nextSibling),Ft=i,Pe=!0,Dr=null,Un=!1,t!==null&&ty(i,t),i=Nd(i,l.children),i.flags|=4096);return i}return f?(Pr(),b=l.fallback,f=i.mode,D=t.child,j=D.sibling,l=Gi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?b=Gi(j,b):(b=zs(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,wl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Id(a):(f=b.cachePool,f!==null?(D=wt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=oy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Dd(t,_,a),i.memoizedState=Cd,wl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Nd(t,i){return i=Mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Mc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function xd(t,i,a){return Ks(i,t.child,null,a),t=Nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function E_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Kf(t.return,i,a)}function Od(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function T_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Kt(t,i,l,a),l=Pe?fl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E_(t,a,i);else if(t.tag===19)E_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Od(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&bc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Od(i,!0,a,null,d,l);break;case"together":Od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ha(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function $1(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),xr(i,wt,t.memoizedState.cache),js();break;case 27:case 5:Es(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?v_(t,i,a):(Vr(i),t=Wi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ha(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return T_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,d_(t,i,a,i.pendingProps);case 24:xr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function b_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!kd(t,a)&&(i.flags&128)===0)return Ct=!1,$1(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(i.flags&1048576)!==0&&ey(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")Lf(t)?(l=Qs(t,l),i.tag=1,i=y_(null,i,t,l,a)):(i.tag=0,i=Rd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){i.tag=11,i=c_(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=h_(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Qs(l,i.pendingProps),y_(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Zf(t,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xr(i,wt,l),l!==d.cache&&Yf(i,[wt],a,!0),vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=__(t,i,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),i),dl(f),i=__(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=zn(t.firstChild),Ft=i,Pe=!0,Dr=null,Un=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),l===f){i=Wi(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=kv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Xc(Ce.current).createElement(a),l[bt]=i,l[Lt]=t,Yt(l,a,t),St(l),i.stateNode=l):i.memoizedState=kv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Es(i),t===null&&Pe&&(l=i.stateNode=Nv(i.type,i.pendingProps,Ce.current),Ft=i,Un=!0,f=tt,Fr(i.type)?(fm=f,tt=zn(l.firstChild)):tt=f),Kt(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=tt)&&(l=wA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ft=i,tt=zn(l.firstChild),Un=!1,f=!0):f=!1),f||Nr(i)),Es(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,om(f,d)?l=null:_!==null&&om(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(t,i,j1,null,null,a),jl._currentValue=f),kc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=RA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ft=i,tt=null,t=!0):t=!1),t||Nr(i)),null;case 13:return v_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return c_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,qs(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return h_(t,i,i.type,i.pendingProps,a);case 15:return f_(t,i,i.type,i.pendingProps,a);case 19:return T_(t,i,a);case 31:return Q1(t,i,a);case 22:return d_(t,i,a,i.pendingProps);case 24:return qs(i),l=Gt(wt),t===null?(f=Xf(),f===null&&(f=Ze,d=Qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Jf(i),xr(i,wt,f)):((t.lanes&a)!==0&&(Zf(t,i),El(i,null,null,a),vl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),xr(i,wt,l)):(l=d.cache,xr(i,wt,l),l!==f.cache&&Yf(i,[wt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function Md(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if($_())t.flags|=8192;else throw Gs=_c,Wf}else t.flags&=-16777217}function S_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lv(i))if($_())t.flags|=8192;else throw Gs=_c,Wf}function Vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Bu():536870912,t.lanes|=i,to|=i)}function Rl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function X1(t,i,a){var l=i.pendingProps;switch(qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(nt(i),S_(i,d)):(nt(i),Md(i,f,null,l,a))):d?d!==t.memoizedState?(Ji(i),nt(i),S_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),nt(i),Md(i,f,t,l,a)),null;case 27:if(Ea(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,qa(i)?ny(i):(t=Nv(f,l,a),i.stateNode=t,Ji(i))}return nt(i),null;case 5:if(Ea(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,qa(i))ny(i);else{var _=Xc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return nt(i),Md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,qa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||vv(t.nodeValue,a)),t||Nr(i,!0)}else t=Xc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=qa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Vc(i,i.updateQueue),nt(i),null);case 4:return at(),t===null&&nm(i.stateNode.containerInfo),nt(i),null;case 10:return Qi(i.type),nt(i),null;case 19:if(J(gt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Rl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=bc(t),d!==null){for(i.flags|=128,Rl(l,!1),t=d.updateQueue,i.updateQueue=t,Vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Pe&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>jc&&(i.flags|=128,f=!0,Rl(l,!1),i.lanes=4194304)}else{if(!f)if(t=bc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Vc(i,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(i),null}else 2*nn()-l.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,f=!0,Rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Pe&&Ki(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),id(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function W1(t,i){switch(qf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(gt),null;case 4:return at(),null;case 10:return Qi(i.type),null;case 22:case 23:return Tn(i),id(),t!==null&&J(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(wt),null;case 25:return null;default:return null}}function A_(t,i){switch(qf(i),i.tag){case 3:Qi(wt),at();break;case 26:case 27:case 5:Ea(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:J(gt);break;case 10:Qi(i.type);break;case 22:case 23:Tn(i),id(),t!==null&&J(Hs);break;case 24:Qi(wt)}}function Cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Qe(i,i.return,b)}}function Ur(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var D=a,j=b;try{j()}catch(Q){Qe(f,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){Qe(i,i.return,Q)}}function w_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{py(i,a)}catch(l){Qe(t,t.return,l)}}}function R_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function Il(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,i,f)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,i,f)}else a.current=null}function C_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function Vd(t,i,a){try{var l=t.stateNode;vA(l,t.type,a,i),l[Lt]=i}catch(f){Qe(t,t.return,f)}}function I_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,a),t=t.sibling;t!==null;)Ud(t,i,a),t=t.sibling}function Pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,i,a),t=t.sibling;t!==null;)Pc(t,i,a),t=t.sibling}function D_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Qe(t,t.return,d)}}var Zi=!1,It=!1,Ld=!1,N_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function J1(t,i){if(t=t.containerInfo,sm=ih,t=qg(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,j=0,Q=0,W=t,q=null;t:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(b=_+f),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)q=W,W=Y;for(;;){if(W===t)break t;if(q===a&&++j===f&&(b=_),q===d&&++Q===l&&(D=_),(Y=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Y}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},ih=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Qs(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Qe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function x_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&Cl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&w_(a),l&512&&Il(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{py(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&D_(a);case 26:case 5:tr(t,a),i===null&&l&4&&C_(a),l&512&&Il(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&M_(t,a);break;case 13:tr(t,a),l&4&&V_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oA.bind(null,a),CA(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||It,f=Zi;var d=It;Zi=l,(It=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Zi=f,It=d}break;case 30:break;default:tr(t,a)}}function O_(t){var i=t.alternate;i!==null&&(t.alternate=null,O_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function er(t,i,a){for(a=a.child;a!==null;)k_(t,i,a),a=a.sibling}function k_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Ii(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ii(a,i);var l=lt,f=un;Fr(a.type)&&(lt=a.stateNode,un=!1),er(t,i,a),Ul(a.stateNode),lt=l,un=f;break;case 5:It||Ii(a,i);case 6:if(l=lt,f=un,lt=null,er(t,i,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:lt!==null&&(un?(t=lt,wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uo(t)):wv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,er(t,i,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:Ur(2,a,i),It||Ur(4,a,i),er(t,i,a);break;case 1:It||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&R_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,er(t,i,a),It=l;break;default:er(t,i,a)}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(a){Qe(i,i.return,a)}}}function V_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){Qe(i,i.return,a)}}function Z1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new N_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new N_),i;default:throw Error(s(435,t.tag))}}function Uc(t,i){var a=Z1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=lA.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Fr(b.type)){lt=b.stateNode,un=!1;break e}break;case 5:lt=b.stateNode,un=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(lt===null)throw Error(s(160));k_(d,_,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)P_(i,t),i=i.sibling}var ei=null;function P_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Ur(3,t,t.return),Cl(3,t),Ur(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(It||a===null||Ii(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(cn(i,t),hn(t),l&512&&(It||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=Pv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Pv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else Uv(f,t.type,t.stateNode);else t.stateNode=Vv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Uv(f,t.type,t.stateNode):Vv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(It||a===null||Ii(a,a.return)),a!==null&&l&4&&Vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(It||a===null||Ii(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Vd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Zc=null,f=ei,ei=Wc(i.containerInfo),cn(i,t),ei=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ce){Qe(t,t.return,ce)}Ld&&(Ld=!1,U_(t));break;case 4:l=ei,ei=Wc(t.stateNode.containerInfo),cn(i,t),hn(t),ei=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Zi,Q=It;if(Zi=j||f,It=Q||D,cn(i,t),It=Q,Zi=j,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Zi||It||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var W=D.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Qe(D,D.return,ce)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ce){Qe(D,D.return,ce)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;f?Rv(Y,!0):Rv(D.stateNode,!1)}catch(ce){Qe(D,D.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(I_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Pd(t);Pc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var b=Pd(t);Pc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Pd(t);Ud(t,j,D);break;default:throw Error(s(161))}}catch(Q){Qe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function U_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;U_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),$s(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&R_(i,i.return,a),$s(i);break;case 27:Ul(i.stateNode);case 26:case 5:Ii(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:nr(f,d,a),Cl(4,d);break;case 1:if(nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Qe(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)my(D[f],b)}catch(j){Qe(l,l.return,j)}}a&&_&64&&w_(d),Il(d,d.return);break;case 27:D_(d);case 26:case 5:nr(f,d,a),a&&l===null&&_&4&&C_(d),Il(d,d.return);break;case 12:nr(f,d,a);break;case 31:nr(f,d,a),a&&_&4&&M_(f,d);break;case 13:nr(f,d,a),a&&_&4&&V_(f,d);break;case 22:d.memoizedState===null&&nr(f,d,a),Il(d,d.return);break;case 30:break;default:nr(f,d,a)}i=i.sibling}}function zd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L_(t,i,a,l),i=i.sibling}function L_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),f&2048&&Cl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(f&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Qe(i,i.return,D)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):Dl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&zd(_,i);break;case 24:ti(t,i,a,l),f&2048&&jd(i.alternate,i);break;default:ti(t,i,a,l)}}function Ja(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,D=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(d,_,b,D,f),Cl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ja(d,_,b,D,f):Dl(d,_):(Q._visibility|=2,Ja(d,_,b,D,f)),f&&j&2048&&zd(_.alternate,_);break;case 24:Ja(d,_,b,D,f),f&&j&2048&&jd(_.alternate,_);break;default:Ja(d,_,b,D,f)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&zd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&jd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Nl=8192;function Za(t,i,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)z_(t,i,a),t=t.sibling}function z_(t,i,a){switch(t.tag){case 26:Za(t,i,a),t.flags&Nl&&t.memoizedState!==null&&zA(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Za(t,i,a);break;case 3:case 4:var l=ei;ei=Wc(t.stateNode.containerInfo),Za(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,Za(t,i,a),Nl=l):Za(t,i,a));break;default:Za(t,i,a)}}function j_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,q_(l,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B_(t),t=t.sibling}function B_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Lc(t)):xl(t);break;default:xl(t)}}function Lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,q_(l,t)}j_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(i));break;default:Lc(i)}t=t.sibling}}function q_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var f=l.sibling,d=l.return;if(O_(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var eA={getCacheForType:function(t){var i=Gt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},tA=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,De=null,xe=0,Ye=0,bn=null,Lr=!1,eo=!1,Bd=!1,ir=0,dt=0,zr=0,Xs=0,qd=0,Sn=0,to=0,Ol=null,fn=null,Hd=!1,zc=0,H_=0,jc=1/0,Bc=null,jr=null,Pt=0,Br=null,no=null,rr=0,Fd=0,Gd=null,F_=null,kl=0,Kd=null;function An(){return(He&2)!==0&&xe!==0?xe&-xe:$.T!==null?Jd():qu()}function G_(){if(Sn===0)if((xe&536870912)===0||Pe){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function dn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(io(t,0),qr(t,xe,Sn,!1)),As(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Xs|=a),dt===4&&qr(t,xe,Sn,!1)),Di(t))}function K_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),f=l?rA(t,i):Qd(t,i,!0),d=l;do{if(f===0){eo&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!nA(a)){f=Qd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Ol;var D=b.current.memoizedState.isDehydrated;if(D&&(io(b,_).flags|=256),_=Qd(b,_,!1),_!==2){if(Bd&&!D){b.errorRecoveryDisabledLanes|=d,Xs|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){io(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Sn,!Lr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=zc+300-nn(),10<f)){if(qr(l,i,Sn,!Lr),hi(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=Sv(Y_.bind(null,l,a,fn,Bc,Hd,i,Sn,Xs,to,Lr,d,"Throttled",-0,0),f);break e}Y_(l,a,fn,Bc,Hd,i,Sn,Xs,to,Lr,d,null,-0,0)}}break}while(!0);Di(t)}function Y_(t,i,a,l,f,d,_,b,D,j,Q,W,q,Y){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},z_(i,d,W);var ce=(d&62914560)===d?zc-nn():(d&4194048)===d?H_-nn():0;if(ce=jA(W,ce),ce!==null){rr=d,t.cancelPendingCommit=ce(tv.bind(null,t,i,d,a,l,f,_,b,D,Q,W,null,q,Y)),qr(t,d,_,!j);return}}tv(t,i,d,a,l,f,_,b,D)}function nA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~qd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ws(t,a,i)}function qc(){return(He&6)===0?(Ml(0),!1):!0}function Yd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Yi=Bs=null,ud(t),Ya=null,gl=0,t=De;for(;t!==null;)A_(t.alternate,t),t=t.return;De=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Yd(),Ze=t,De=a=Gi(t.current,null),xe=i,Ye=0,bn=null,Lr=!1,eo=Gn(t,i),Bd=!1,to=Sn=qd=Xs=zr=dt=0,fn=Ol=null,Hd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return ir=i,uc(),a}function Q_(t,i){Re=null,$.H=Al,i===Ka||i===yc?(i=cy(),Ye=3):i===Wf?(i=cy(),Ye=4):Ye=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(dt=1,xc(t,Mn(i,t.current)))}function $_(){var t=En.current;return t===null?!0:(xe&4194048)===xe?Ln===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Ln:!1}function X_(){var t=$.H;return $.H=Al,t===null?Al:t}function W_(){var t=$.A;return $.A=eA,t}function Hc(){dt=4,Lr||(xe&4194048)!==xe&&En.current!==null||(eo=!0),(zr&134217727)===0&&(Xs&134217727)===0||Ze===null||qr(Ze,xe,Sn,!1)}function Qd(t,i,a){var l=He;He|=2;var f=X_(),d=W_();(Ze!==t||xe!==i)&&(Bc=null,io(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&De!==null){var b=De,D=bn;switch(Ye){case 8:Yd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Ye;if(Ye=0,bn=null,ro(t,b,D,j),a&&eo){_=0;break e}break;default:j=Ye,Ye=0,bn=null,ro(t,b,D,j)}}iA(),_=dt;break}catch(Q){Q_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Yi=Bs=null,He=l,$.H=f,$.A=d,De===null&&(Ze=null,xe=0,uc()),_}function iA(){for(;De!==null;)J_(De)}function rA(t,i){var a=He;He|=2;var l=X_(),f=W_();Ze!==t||xe!==i?(Bc=null,jc=nn()+500,io(t,i)):eo=Gn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,ro(t,i,d,1);break;case 2:case 9:if(ly(d)){Ye=0,bn=null,Z_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Di(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ly(d)?(Ye=0,bn=null,Z_(i)):(Ye=0,bn=null,ro(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?Lv(_):b.stateNode.complete){Ye=0,bn=null;var D=b.sibling;if(D!==null)De=D;else{var j=b.return;j!==null?(De=j,Fc(j)):De=null}break t}}Ye=0,bn=null,ro(t,i,d,5);break;case 6:Ye=0,bn=null,ro(t,i,d,6);break;case 8:Yd(),dt=6;break e;default:throw Error(s(462))}}sA();break}catch(Q){Q_(t,Q)}while(!0);return Yi=Bs=null,$.H=l,$.A=f,He=a,De!==null?0:(Ze=null,xe=0,uc(),dt)}function sA(){for(;De!==null&&!Af();)J_(De)}function J_(t){var i=b_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Fc(t):De=i}function Z_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=g_(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=g_(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:ud(i);default:A_(a,i),i=De=Wg(i,ir),i=b_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Fc(t):De=i}function ro(t,i,a,l){Yi=Bs=null,ud(i),Ya=null,gl=0;var f=i.return;try{if(Y1(t,f,i,a,xe)){dt=1,xc(t,Mn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;dt=1,xc(t,Mn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:eo||(xe&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),ev(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){ev(i,Lr);return}t=i.return;var a=X1(i.alternate,i,ir);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function ev(t,i){do{var a=W1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);dt=6,De=null}function tv(t,i,a,l,f,d,_,b,D){t.cancelPendingCommit=null;do Gc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Pf,Cf(t,a,d,_,b,D),t===Ze&&(De=Ze=null,xe=0),no=i,Br=t,rr=a,Fd=d,Gd=f,F_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uA(_r,function(){return av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=se.p,se.p=2,_=He,He|=4;try{J1(t,i,a)}finally{He=_,se.p=f,$.T=l}}Pt=1,nv(),iv(),rv()}}function nv(){if(Pt===1){Pt=0;var t=Br,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{P_(i,t);var d=am,_=qg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(D!==null&&xf(b)){var j=D.start,Q=D.end;if(Q===void 0&&(Q=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Y=q.getSelection(),ce=b.textContent.length,ge=Math.min(D.start,ce),Je=D.end===void 0?ge:Math.min(D.end,ce);!Y.extend&&ge>Je&&(_=Je,Je=ge,ge=_);var P=jg(b,ge),x=jg(b,Je);if(P&&x&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==x.node||Y.focusOffset!==x.offset)){var z=W.createRange();z.setStart(P.node,P.offset),Y.removeAllRanges(),ge>Je?(Y.addRange(z),Y.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),Y.addRange(z))}}}}for(W=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var X=W[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ih=!!sm,am=sm=null}finally{He=f,se.p=l,$.T=a}}t.current=i,Pt=2}}function iv(){if(Pt===2){Pt=0;var t=Br,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{x_(t,i.alternate,i)}finally{He=f,se.p=l,$.T=a}}Pt=3}}function rv(){if(Pt===4||Pt===3){Pt=0,Vu();var t=Br,i=no,a=rr,l=F_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,no=Br=null,sv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(jr=null),Bi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{$.T=i,se.p=f}}(rr&3)!==0&&Gc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Kd?kl++:(kl=0,Kd=t):kl=0,Ml(0)}}function sv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function Gc(){return nv(),iv(),rv(),av()}function av(){if(Pt!==5)return!1;var t=Br,i=Fd;Fd=0;var a=Bi(rr),l=$.T,f=se.p;try{se.p=32>a?32:a,$.T=null,a=Gd,Gd=null;var d=Br,_=rr;if(Pt=0,no=Br=null,rr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,B_(d.current),L_(d,d.current,_,a),He=b,Ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{se.p=f,$.T=l,sv(t,i)}}function ov(t,i,a){i=Mn(a,i),i=Ad(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(As(t,2),Di(t))}function Qe(t,i,a){if(t.tag===3)ov(t,t,a);else for(;i!==null;){if(i.tag===3){ov(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=Mn(a,t),a=l_(2),l=Mr(i,a,2),l!==null&&(u_(a,l,i,t),As(l,2),Di(l));break}}i=i.return}}function $d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new tA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Bd=!0,f.add(a),t=aA.bind(null,t,i,a),i.then(t,t))}function aA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(xe&a)===a&&(dt===4||dt===3&&(xe&62914560)===xe&&300>nn()-zc?(He&2)===0&&io(t,0):qd|=a,to===xe&&(to=0)),Di(t)}function lv(t,i){i===0&&(i=Bu()),t=Ls(t,i),t!==null&&(As(t,i),Di(t))}function oA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),lv(t,a)}function lA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),lv(t,a)}function uA(t,i){return Vt(t,i)}var Kc=null,so=null,Xd=!1,Yc=!1,Wd=!1,Hr=0;function Di(t){t!==so&&t.next===null&&(so===null?Kc=so=t:so=so.next=t),Yc=!0,Xd||(Xd=!0,hA())}function Ml(t,i){if(!Wd&&Yc){Wd=!0;do for(var a=!1,l=Kc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,fv(l,d))}else d=xe,d=hi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,fv(l,d));l=l.next}while(a);Wd=!1}}function cA(){uv()}function uv(){Yc=Xd=!1;var t=0;Hr!==0&&TA()&&(t=Hr);for(var i=nn(),a=null,l=Kc;l!==null;){var f=l.next,d=cv(l,i);d===0?(l.next=null,a===null?Kc=f:a.next=f,f===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&(Yc=!0)),l=f}Pt!==0&&Pt!==5||Ml(t),Hr!==0&&(Hr=0)}function cv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Rf(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=Ze,a=xe,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),Bi(a)){case 2:case 8:a=Fo;break;case 32:a=_r;break;case 268435456:a=Pu;break;default:a=_r}return l=hv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function hv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=xe;return l=hi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(K_(t,l,i),cv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?hv.bind(null,t):null)}function fv(t,i){if(Gc())return null;K_(t,i,!0)}function hA(){SA(function(){(He&6)!==0?Vt(Ho,cA):uv()})}function Jd(){if(Hr===0){var t=Fa;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Hr=t}return Hr}function dv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function mv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=dv((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?dv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new bi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var D=_?mv(f,_):new FormData(f);_d(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?mv(f,_):new FormData(f),_d(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Zd=0;Zd<Vf.length;Zd++){var em=Vf[Zd],dA=em.toLowerCase(),mA=em[0].toUpperCase()+em.slice(1);Zn(dA,"on"+mA)}Zn(Gg,"onAnimationEnd"),Zn(Kg,"onAnimationIteration"),Zn(Yg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(N1,"onTransitionRun"),Zn(x1,"onTransitionStart"),Zn(O1,"onTransitionCancel"),Zn(Qg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function pv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,j=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=j;try{d(f)}catch(Q){lc(Q)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,j=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=j;try{d(f)}catch(Q){lc(Q)}f.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[Aa];a===void 0&&(a=i[Aa]=new Set);var l=t+"__bubble";a.has(l)||(gv(i,t,2,!1),a.add(l))}function tm(t,i,a){var l=0;i&&(l|=4),gv(a,t,l,i)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Qc]){t[Qc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||tm(a,!1,t),tm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Qc]||(i[Qc]=!0,tm("selectionchange",!1,i))}}function gv(t,i,a,l){switch(Gv(i)){case 2:var f=HA;break;case 8:f=FA;break;default:f=ym}a=f.bind(null,i,a,t),f=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function im(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=pi(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ar(function(){var j=d,Q=Nn(a),W=[];e:{var q=$g.get(t);if(q!==void 0){var Y=bi,ce=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Y=sc;break;case"focusin":ce="focus",Y=Ms;break;case"focusout":ce="blur",Y=Ms;break;case"beforeblur":case"afterblur":Y=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Gg:case Kg:case Yg:Y=Ju;break;case Qg:Y=S;break;case"scroll":case"scrollend":Y=sl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Fi;break;case"toggle":case"beforetoggle":Y=we}var ge=(i&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),P=ge?q!==null?q+"Capture":null:q;ge=[];for(var x=j,z;x!==null;){var X=x;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=$n(x,P),X!=null&&ge.push(Pl(x,X,z))),Je)break;x=x.return}0<ge.length&&(q=new Y(q,ce,null,a,Q),W.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==nl&&(ce=a.relatedTarget||a.fromElement)&&(pi(ce)||ce[di]))break e;if((Y||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=j,ce=ce?pi(ce):null,ce!==null&&(Je=u(ce),ge=ce.tag,ce!==Je||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Y=null,ce=j),Y!==ce)){if(ge=al,X="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Fi,X="onPointerLeave",P="onPointerEnter",x="pointer"),Je=Y==null?q:gn(Y),z=ce==null?q:gn(ce),q=new ge(X,x+"leave",Y,a,Q),q.target=Je,q.relatedTarget=z,X=null,pi(Q)===j&&(ge=new ge(P,x+"enter",ce,a,Q),ge.target=z,ge.relatedTarget=Je,X=ge),Je=X,Y&&ce)t:{for(ge=gA,P=Y,x=ce,z=0,X=P;X;X=ge(X))z++;X=0;for(var de=x;de;de=ge(de))X++;for(;0<z-X;)P=ge(P),z--;for(;0<X-z;)x=ge(x),X--;for(;z--;){if(P===x||x!==null&&P===x.alternate){ge=P;break t}P=ge(P),x=ge(x)}ge=null}else ge=null;Y!==null&&yv(W,q,Y,ge,!1),ce!==null&&Je!==null&&yv(W,Je,ce,ge,!0)}}e:{if(q=j?gn(j):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var je=Mg;else if(Og(q))if(Vg)je=C1;else{je=w1;var he=A1}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Ia(j.elementType)&&(je=Mg):je=R1;if(je&&(je=je(t,j))){kg(W,je,a,Q);break e}he&&he(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Zo(q,"number",q.value)}switch(he=j?gn(j):window,t){case"focusin":(Og(he)||he.contentEditable==="true")&&(Pa=he,Of=j,hl=null);break;case"focusout":hl=Of=Pa=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Hg(W,a,Q);break;case"selectionchange":if(D1)break;case"keydown":case"keyup":Hg(W,a,Q)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Va?Vs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(wi&&a.locale!=="ko"&&(Va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Va&&(Ie=rl()):(Ti=Q,il="value"in Ti?Ti.value:Ti.textContent,Va=!0)),he=$c(j,Oe),0<he.length&&(Oe=new Ai(Oe,t,null,a,Q),W.push({event:Oe,listeners:he}),Ie?Oe.data=Ie:(Ie=Ma(a),Ie!==null&&(Oe.data=Ie)))),(Ie=On?E1(t,a):T1(t,a))&&(Oe=$c(j,"onBeforeInput"),0<Oe.length&&(he=new Ai("onBeforeInput","beforeinput",null,a,Q),W.push({event:he,listeners:Oe}),he.data=Ie)),fA(W,t,j,a,Q)}pv(W,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function $c(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=$n(t,i),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function gA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,j=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||j===null||(D=j,f?(j=$n(a,d),j!=null&&_.unshift(Pl(a,j,D))):f||(j=$n(a,d),j!=null&&_.push(Pl(a,j,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(_A,"")}function vv(t,i){return i=_v(i),_v(t)===i}function We(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":tl(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Ra(t,a,l))}}function rm(t,i,a,l,f,d){switch(a){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=d=_=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,l,Q,a,null)}}Ku(t,d,b,D,j,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,i,_,b,a,null)}Tr(t,l,f,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,D,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Ne(Vl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,j,l,a,null)}return;default:if(Ia(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&rm(t,i,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,i,b,l,a,null))}function vA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,j=null,Q=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(Y)||We(t,i,Y,null,l,W)}}for(var q in l){var Y=l[q];if(W=a[q],l.hasOwnProperty(q)&&(Y!=null||W!=null))switch(q){case"type":d=Y;break;case"name":f=Y;break;case"checked":j=Y;break;case"defaultChecked":Q=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==W&&We(t,i,q,Y,l,W)}}Ca(t,_,b,D,j,Q,d,f);return;case"select":Y=_=b=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||We(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&We(t,i,f,d,l,D)}i=b,a=_,l=Y,q!=null?Er(t,!!a,q,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,i,_,f,l,d)}Yu(t,q,Y);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:We(t,i,ce,null,l,q));for(D in l)q=l[D],Y=a[D],l.hasOwnProperty(D)&&q!==Y&&(q!=null||Y!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":We(t,i,D,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,q);for(j in l)if(q=l[j],Y=a[j],l.hasOwnProperty(j)&&q!==Y&&(q!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:We(t,i,j,q,l,Y)}return;default:if(Ia(i)){for(var Je in a)q=a[Je],a.hasOwnProperty(Je)&&q!==void 0&&!l.hasOwnProperty(Je)&&rm(t,i,Je,void 0,l,q);for(Q in l)q=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||q===Y||q===void 0&&Y===void 0||rm(t,i,Q,q,l,Y);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,q);for(W in l)q=l[W],Y=a[W],!l.hasOwnProperty(W)||q===Y||q==null&&Y==null||We(t,i,W,q,l,Y)}function Ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Ev(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>b)break;var Q=D.transferSize,W=D.initiatorType;Q&&Ev(W)&&(D=D.responseEnd,_+=Q*(D<b?1:(b-j)/(D-j)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,am=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function Tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function om(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(AA)}:Sv;function AA(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function wv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ul(t.ownerDocument.body);a=f}while(a);uo(i)}function Rv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function um(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function RA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Cv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function CA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var fm=null;function Iv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Nv(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wa(t)}var jn=new Map,xv=new Set;function Wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=se.d;se.d={f:IA,r:DA,D:NA,C:xA,L:OA,m:kA,X:VA,S:MA,M:PA};function IA(){var t=sr.f(),i=qc();return t||i}function DA(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?Qy(i):sr.r(t)}var ao=typeof document>"u"?null:document;function Ov(t,i,a){var l=ao;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),xv.has(f)||(xv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function NA(t){sr.D(t),Ov("dns-prefetch",t,null)}function xA(t,i){sr.C(t,i),Ov("preconnect",t,i)}function OA(t,i,a){sr.L(t,i,a);var l=ao;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=oo(t);break;case"script":d=lo(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ll(d))||i==="script"&&l.querySelector(zl(d))||(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function kA(t,i){sr.m(t,i);var a=ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),Yt(l,"link",t),St(l),a.head.appendChild(l)}}}function MA(t,i,a){sr.S(t,i,a);var l=ao;if(l&&t){var f=gi(l).hoistableStyles,d=oo(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ll(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&dm(t,a);var D=_=l.createElement("link");St(D),Yt(D,"link",t),D._p=new Promise(function(j,Q){D.onload=j,D.onerror=Q}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function VA(t,i){sr.X(t,i);var a=ao;if(a&&t){var l=gi(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0},i),(i=jn.get(f))&&mm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function PA(t,i){sr.M(t,i);var a=ao;if(a&&t){var l=gi(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(f))&&mm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kv(t,i,a,l){var f=(f=Ce.current)?Wc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=gi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var d=gi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||UA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=gi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+on(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Mv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function UA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),St(i),t.head.appendChild(i))}function lo(t){return'[src="'+on(t)+'"]'}function zl(t){return"script[async]"+t}function Vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",f),Jc(l,a.precedence,t),i.instance=l;case"stylesheet":f=oo(a.href);var d=t.querySelector(Ll(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=Mv(a),(f=jn.get(f))&&dm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),i.state.loading|=4,Jc(d,a.precedence,t),i.instance=d;case"script":return d=lo(a.src),(f=t.querySelector(zl(d)))?(i.instance=f,St(f),f):(l=a,(f=jn.get(d))&&(l=T({},a),mm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Yt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,t));return i.instance}function Jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function Pv(t,i,a){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(a,l)}else f=Zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Uv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function LA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=i.querySelector(Ll(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=Mv(l),(f=jn.get(f))&&dm(l,f),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var pm=0;function jA(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&pm===0&&(pm=62500*EA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>pm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(BA,t),th=null,eh.call(t))}function BA(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var jl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function qA(t,i,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function zv(t,i,a,l,f,d,_,b,D,j,Q,W){return t=new qA(t,i,a,_,D,j,Q,W,b),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Jf(d),t}function jv(t){return t?(t=za,t):za}function Bv(t,i,a,l,f,d){f=jv(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(dn(a,t,i),_l(a,t,i))}function qv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gm(t,i){qv(t,i),(t=t.alternate)&&qv(t,i)}function Hv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&dn(i,t,67108864),gm(t,67108864)}}function Fv(t){if(t.tag===13||t.tag===31){var i=An();i=Rs(i);var a=Ls(t,i);a!==null&&dn(a,t,i),gm(t,i)}}var ih=!0;function HA(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=2,ym(t,i,a,l)}finally{se.p=d,$.T=f}}function FA(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=8,ym(t,i,a,l)}finally{se.p=d,$.T=f}}function ym(t,i,a,l){if(ih){var f=_m(l);if(f===null)im(t,i,l,rh,a),Kv(t,l);else if(KA(f,t,i,a,l))l.stopPropagation();else if(Kv(t,l),i&4&&-1<GA.indexOf(t)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-mt(_);b.entanglements[1]|=D,_&=~D}Di(d),(He&6)===0&&(jc=nn()+500,Ml(0))}}break;case 31:case 13:b=Ls(d,2),b!==null&&dn(b,d,2),qc(),gm(d,2)}if(d=_m(l),d===null&&im(t,i,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else im(t,i,l,null,a)}}function _m(t){return t=Nn(t),vm(t)}var rh=null;function vm(t){if(rh=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Ho:return 2;case Fo:return 8;case _r:case wf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Em=!1,Gr=null,Kr=null,Yr=null,Bl=new Map,ql=new Map,Qr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Dn(i),i!==null&&Hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function KA(t,i,a,l,f){switch(i){case"focusin":return Gr=Hl(Gr,t,i,a,l,f),!0;case"dragenter":return Kr=Hl(Kr,t,i,a,l,f),!0;case"mouseover":return Yr=Hl(Yr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ql.set(d,Hl(ql.get(d)||null,t,i,a,l,f)),!0}return!1}function Yv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Fv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Fv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_m(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return i=Dn(a),i!==null&&Hv(i),t.blockedOn=a,!1;i.shift()}return!0}function Qv(t,i,a){sh(t)&&a.delete(i)}function YA(){Em=!1,Gr!==null&&sh(Gr)&&(Gr=null),Kr!==null&&sh(Kr)&&(Kr=null),Yr!==null&&sh(Yr)&&(Yr=null),Bl.forEach(Qv),ql.forEach(Qv)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var oh=null;function $v(t){oh!==t&&(oh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,_d(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(t){function i(D){return ah(D,t)}Gr!==null&&ah(Gr,t),Kr!==null&&ah(Kr,t),Yr!==null&&ah(Yr,t),Bl.forEach(i),ql.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||$v(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)b=_.formAction;else if(vm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$v(a)}}}function Xv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Tm(t){this._internalRoot=t}lh.prototype.render=Tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Bv(a,l,t,i,null,null)},lh.prototype.unmount=Tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bv(t.current,2,null,t,null,null),qc(),i[di]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=qu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&Yv(t)}};var Wv=e.version;if(Wv!=="19.2.4")throw Error(s(527,Wv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var QA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Fn=uh.inject(QA),qt=uh}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=r_,d=s_,_=a_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=zv(t,1,!1,null,null,a,l,null,f,d,_,Xv),t[di]=i.current,nm(t),new Tm(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=r_,_=s_,b=a_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=zv(t,1,!0,i,a??null,l,f,D,d,_,b,Xv),i.context=jv(null),a=i.current,l=An(),l=Rs(l),f=kr(l),f.callback=null,Mr(a,f,l),a=l,i.current.lanes=a,As(i,a),Di(i),t[di]=i.current,nm(t),new lh(i)},Gl.version="19.2.4",Gl}var oE;function rw(){if(oE)return Am.exports;oE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=iw(),Am.exports}var sw=rw();var lE="popstate";function aw(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Km("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lu(o)}return lw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ow(){return Math.random().toString(36).substring(2,10)}function uE(r,e){return{usr:r.state,key:r.key,idx:e}}function Km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||s||ow()}}function lu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function lw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let H=E(),ne=H==null?null:H-g;g=H,p&&p({action:m,location:K.location,delta:ne})}function A(H,ne){m="PUSH";let te=Km(K.location,H,ne);g=E()+1;let ie=uE(te,g),fe=K.createHref(te);try{h.pushState(ie,"",fe)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(fe)}u&&p&&p({action:m,location:K.location,delta:1})}function M(H,ne){m="REPLACE";let te=Km(K.location,H,ne);g=E();let ie=uE(te,g),fe=K.createHref(te);h.replaceState(ie,"",fe),u&&p&&p({action:m,location:K.location,delta:0})}function F(H){return uw(H)}let K={get action(){return m},get location(){return r(o,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lE,T),p=H,()=>{o.removeEventListener(lE,T),p=null}},createHref(H){return e(o,H)},createURL:F,encodeLocation(H){let ne=F(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:M,go(H){return h.go(H)}};return K}function uw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function eT(r,e,n="/"){return cw(r,e,n,!1)}function cw(r,e,n,s){let o=typeof e=="string"?xo(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let h=tT(r);hw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=bw(u);m=Ew(h[p],g,s)}return m}function tT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=lr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),tT(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:_w(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of nT(h.path))u(h,m,!0,p)}),e}function nT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function hw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:vw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fw=/^:[\w-]+$/,dw=3,mw=2,pw=1,gw=10,yw=-2,cE=r=>r==="*";function _w(r,e){let n=r.split("/"),s=n.length;return n.some(cE)&&(s+=yw),e&&(s+=mw),n.filter(o=>!cE(o)).reduce((o,u)=>o+(fw.test(u)?dw:u===""?pw:gw),s)}function vw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ew(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:lr([u,T.pathname]),pathnameBase:Rw(lr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=lr([u,T.pathnameBase]))}return h}function Oh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Tw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function Tw(r,e=!1,n=!0){Li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function bw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Aw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?xo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=hE(n.substring(1),"/"):u=hE(n,e)):u=e,{pathname:u,search:Cw(s),hash:Iw(o)}}function hE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ww(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iT(r){let e=ww(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rT(r,e,n,s=!1){let o;typeof r=="string"?o=xo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=Aw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),Rw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Iw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Dw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function xw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aT(r,e){let n=r;if(typeof n!="string"||!Sw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(sT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=hr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oT=["POST","PUT","PATCH","DELETE"];new Set(oT);var Ow=["GET",...oT];new Set(Ow);var Oo=B.createContext(null);Oo.displayName="DataRouter";var Zh=B.createContext(null);Zh.displayName="DataRouterState";var kw=B.createContext(!1),lT=B.createContext({isTransitioning:!1});lT.displayName="ViewTransition";var Mw=B.createContext(new Map);Mw.displayName="Fetchers";var Vw=B.createContext(null);Vw.displayName="Await";var Hn=B.createContext(null);Hn.displayName="Navigation";var vu=B.createContext(null);vu.displayName="Location";var gr=B.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Ap=B.createContext(null);Ap.displayName="RouteError";var uT="REACT_ROUTER_ERROR",Pw="REDIRECT",Uw="ROUTE_ERROR_RESPONSE";function Lw(r){if(r.startsWith(`${uT}:${Pw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zw(r){if(r.startsWith(`${uT}:${Uw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Dw(e.status,e.statusText,e.data)}catch{}}function jw(r,{relative:e}={}){ut(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Hn),{hash:o,pathname:u,search:h}=Tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:lr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Eu(){return B.useContext(vu)!=null}function gs(){return ut(Eu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(vu).location}var cT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(r){B.useContext(Hn).static||B.useLayoutEffect(r)}function wp(){let{isDataRoute:r}=B.useContext(gr);return r?Zw():Bw()}function Bw(){ut(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Oo),{basename:e,navigator:n}=B.useContext(Hn),{matches:s}=B.useContext(gr),{pathname:o}=gs(),u=JSON.stringify(iT(s)),h=B.useRef(!1);return hT(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(Li(h.current,cT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=rT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:lr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}B.createContext(null);function Tu(r,{relative:e}={}){let{matches:n}=B.useContext(gr),{pathname:s}=gs(),o=JSON.stringify(iT(n));return B.useMemo(()=>rT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qw(r,e){return fT(r,e)}function fT(r,e,n,s,o){ut(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(Hn),{matches:h}=B.useContext(gr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";mT(g,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=gs(),M;if(e){let te=typeof e=="string"?xo(e):e;ut(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),M=te}else M=A;let F=M.pathname||"/",K=F;if(E!=="/"){let te=E.replace(/^\//,"").split("/");K="/"+F.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=eT(r,{pathname:K});Li(T||H!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Li(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Yw(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:lr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:lr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ne?B.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ne):ne}function Hw(){let r=Jw(),e=Nw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,h)}var Fw=B.createElement(Hw,null),dT=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=zw(r.digest);n&&(r=n)}let e=r!==void 0?B.createElement(gr.Provider,{value:this.props.routeContext},B.createElement(Ap.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(Gw,{error:r},e):e}};dT.contextType=kw;var Dm=new WeakMap;function Gw({children:r,error:e}){let{basename:n}=B.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Lw(e.digest);if(s){let o=Dm.get(e);if(o)throw o;let u=aT(s.location,n);if(sT&&!Dm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Dm.set(e,h),h}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Kw({routeContext:r,match:e,children:n}){let s=B.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(gr.Provider,{value:r},n)}function Yw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:M}=n,F=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let M,F=!1,K=null,H=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,K=T.route.errorElement||Fw,m&&(p<0&&A===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,H=null):p===A&&(F=!0,H=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),te=()=>{let ie;return M?ie=K:F?ie=H:T.route.Component?ie=B.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,B.createElement(Kw,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?B.createElement(dT,{location:n.location,revalidation:n.revalidation,component:K,error:M,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):te()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(r){let e=B.useContext(Oo);return ut(e,Rp(r)),e}function $w(r){let e=B.useContext(Zh);return ut(e,Rp(r)),e}function Xw(r){let e=B.useContext(gr);return ut(e,Rp(r)),e}function Cp(r){let e=Xw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ww(){return Cp("useRouteId")}function Jw(){let r=B.useContext(Ap),e=$w("useRouteError"),n=Cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Zw(){let{router:r}=Qw("useNavigate"),e=Cp("useNavigate"),n=B.useRef(!1);return hT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Li(n.current,cT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var fE={};function mT(r,e,n){!e&&!fE[r]&&(fE[r]=!0,Li(!1,n))}B.memo(eR);function eR({routes:r,future:e,state:n,onError:s}){return fT(r,void 0,n,s,e)}function Ws(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=xo(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:M="default"}=n,F=B.useMemo(()=>{let K=hr(g,m);return K==null?null:{location:{pathname:K,search:E,hash:T,state:A,key:M},navigationType:s}},[m,g,E,T,A,M,s]);return Li(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:B.createElement(Hn.Provider,{value:p},B.createElement(vu.Provider,{children:e,value:F}))}function nR({children:r,location:e}){return qw(Ym(r),e)}function Ym(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Ym(s.props.children,u));return}ut(s.type===Ws,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),n.push(h)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function ef(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function iR(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function rR(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function sR(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function aR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oR(r,e){return r.button===0&&(!e||e==="_self")&&!aR(r)}var ch=null;function lR(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var uR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!uR.has(r)?(Li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):r}function cR(r,e){let n,s,o,u,h;if(rR(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||Eh,o=Nm(r.getAttribute("enctype"))||Th,u=new FormData(r)}else if(iR(r)||sR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Eh,o=Nm(r.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||Th,u=new FormData(m,r),!lR()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,s=null,o=Th,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function fR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await fR(u,n);return h.links?h.links():[]}return[]}));return _R(s.flat(1).filter(dR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function pR(r,e,{includeHydrateFallback:n}={}){return gR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function gR(r){return[...new Set(r)]}function yR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function _R(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(yR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function pT(){let r=B.useContext(Oo);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vR(){let r=B.useContext(Zh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dp=B.createContext(void 0);Dp.displayName="FrameworkContext";function gT(){let r=B.useContext(Dp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function ER(r,e){let n=B.useContext(Dp),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=B.useRef(null);B.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=ne=>{ne.forEach(te=>{h(te.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),B.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Kl(m,M),onBlur:Kl(p,F),onMouseEnter:Kl(g,M),onMouseLeave:Kl(E,F),onTouchStart:Kl(T,M)}]:[!1,A,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function TR({page:r,...e}){let{router:n}=pT(),s=B.useMemo(()=>eT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(SR,{page:r,matches:s,...e}):null}function bR(r){let{manifest:e,routeModules:n}=gT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return mR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function SR({page:r,matches:e,...n}){let s=gs(),{future:o,manifest:u,routeModules:h}=gT(),{basename:m}=pT(),{loaderData:p,matches:g}=vR(),E=B.useMemo(()=>dE(r,e,g,u,s,"data"),[r,e,g,u,s]),T=B.useMemo(()=>dE(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,H=!1;if(e.forEach(te=>{let ie=u.routes[te.route.id];!ie||!ie.hasLoader||(!E.some(fe=>fe.route.id===te.route.id)&&te.route.id in p&&h[te.route.id]?.shouldRevalidate||ie.hasClientLoader?H=!0:K.add(te.route.id))}),K.size===0)return[];let ne=hR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&K.size>0&&ne.searchParams.set("_routes",e.filter(te=>K.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,h]),M=B.useMemo(()=>pR(T,u),[T,u]),F=bR(T);return B.createElement(B.Fragment,null,A.map(K=>B.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),M.map(K=>B.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),F.map(({key:K,link:H})=>B.createElement("link",{key:K,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function AR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wR&&(window.__reactRouterVersion="7.13.0")}catch{}function RR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=aw({window:s,v5Compat:!0}));let u=o.current,[h,m]=B.useState({action:u.action,location:u.location}),p=B.useCallback(g=>{n===!1?m(g):B.startTransition(()=>m(g))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(tR,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_T=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},F){let{basename:K,unstable_useTransitions:H}=B.useContext(Hn),ne=typeof g=="string"&&yT.test(g),te=aT(g,K);g=te.to;let ie=jw(g,{relative:o}),[fe,Te,ve]=ER(s,M),C=NR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:H});function w(V){e&&e(V),V.defaultPrevented||C(V)}let R=B.createElement("a",{...M,...ve,href:te.absoluteURL||ie,onClick:te.isExternal||u?e:w,ref:AR(F,Te),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return fe&&!ne?B.createElement(B.Fragment,null,R,B.createElement(TR,{page:ie})):R});_T.displayName="Link";var CR=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Tu(h,{relative:g.relative}),A=gs(),M=B.useContext(Zh),{navigator:F,basename:K}=B.useContext(Hn),H=M!=null&&VR(T)&&m===!0,ne=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,te=A.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&K&&(ie=hr(ie,K)||ie);const fe=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Te=te===ne||!o&&te.startsWith(ne)&&te.charAt(fe)==="/",ve=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),C={isActive:Te,isPending:ve,isTransitioning:H},w=Te?e:void 0,R;typeof s=="function"?R=s(C):R=[s,Te?"active":null,ve?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return B.createElement(_T,{...g,"aria-current":w,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});CR.displayName="NavLink";var IR=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Eh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...M},F)=>{let{unstable_useTransitions:K}=B.useContext(Hn),H=kR(),ne=MR(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&yT.test(m),fe=Te=>{if(p&&p(Te),Te.defaultPrevented)return;Te.preventDefault();let ve=Te.nativeEvent.submitter,C=ve?.getAttribute("formmethod")||h,w=()=>H(ve||Te.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});K&&n!==!1?B.startTransition(()=>w()):w()};return B.createElement("form",{ref:F,method:te,action:ne,onSubmit:s?p:fe,...M,"data-discover":!ie&&r==="render"?"true":void 0})});IR.displayName="Form";function DR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=B.useContext(Oo);return ut(e,DR(r)),e}function NR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=wp(),E=gs(),T=Tu(r,{relative:u});return B.useCallback(A=>{if(oR(A,e)){A.preventDefault();let M=n!==void 0?n:lu(E)===lu(T),F=()=>g(r,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?B.startTransition(()=>F()):F()}},[E,g,T,n,s,e,r,o,u,h,m,p])}var xR=0,OR=()=>`__${String(++xR)}__`;function kR(){let{router:r}=vT("useSubmit"),{basename:e}=B.useContext(Hn),n=Ww(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=cR(u,e);if(h.navigate===!1){let A=h.fetcherKey||OR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function MR(r,{relative:e}={}){let{basename:n}=B.useContext(Hn),s=B.useContext(gr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tu(r||".",{relative:e})},h=gs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),lu(u)}function VR(r,{relative:e}={}){let n=B.useContext(lT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=Tu(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}const ET=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const PR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const UR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const mE=r=>{const e=UR(r);return e.charAt(0).toUpperCase()+e.slice(1)};var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const jR=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>B.createElement("svg",{ref:p,...LR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:ET("lucide",o),...!u&&!zR(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>B.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Cn=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(jR,{ref:u,iconNode:e,className:ET(`lucide-${PR(mE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=mE(r),n};const BR=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Np=Cn("bike",BR);const qR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],HR=Cn("calendar",qR);const FR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],TT=Cn("camera",FR);const GR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],bT=Cn("dollar-sign",GR);const KR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],YR=Cn("image",KR);const QR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ST=Cn("lock",QR);const $R=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],AT=Cn("package",$R);const XR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tf=Cn("plus",XR);const WR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JR=Cn("save",WR);const ZR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xp=Cn("settings",ZR);const eC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nf=Cn("trash-2",eC);const tC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],wT=Cn("wrench",tC);const nC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iC=Cn("x",nC),rC=()=>{};var pE={};const RT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(n[E],n[T],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(RT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new aC;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(r){const e=RT(r);return CT.encodeByteArray(e,!0)},kh=function(r){return oC(r).replace(/\./g,"")},IT=function(r){try{return CT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof pE>"u")return;const r=pE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},rf=()=>{try{return rC()||uC()||cC()||hC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DT=r=>rf()?.emulatorHosts?.[r],NT=r=>{const e=DT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xT=()=>rf()?.config,OT=r=>rf()?.[`_${r}`];class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ys(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(r){return(await fetch(r,{credentials:"include"})).ok}function kT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(n)),kh(JSON.stringify(h)),""].join(".")}const tu={};function dC(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function mC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let gE=!1;function kp(r,e){if(typeof window>"u"||typeof document>"u"||!ys(window.location.host)||tu[r]===e||tu[r]||gE)return;tu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=dC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{gE=!0,h()},A}function E(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=mC(s),M=n("text"),F=document.getElementById(M)||document.createElement("span"),K=n("learnmore"),H=document.getElementById(K)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(H,K);const fe=g();p(te,ne),ie.append(te,F,H,fe),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function gC(){const r=rf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _C(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EC(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TC(){return!gC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const AC="FirebaseError";class ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AC,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?wC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ji(o,m,s)}}function wC(r,e){return r.replace(RC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const RC=/\{\$([^}]+)}/g;function CC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(yE(u)&&yE(h)){if(!sa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function yE(r){return r!==null&&typeof r=="object"}function Su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function IC(r,e){const n=new DC(r,e);return n.subscribe.bind(n)}class DC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xm(){}function vt(r){return r&&r._delegate?r._delegate:r}class us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Js="[DEFAULT]";class xC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(r){return r===Js?void 0:r}function kC(r){return r.instantiationMode==="EAGER"}class MC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const VC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},PC=ke.INFO,UC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},LC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=UC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const zC=(r,e)=>e.some(n=>r instanceof n);let _E,vE;function jC(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BC(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,Qm=new WeakMap,VT=new WeakMap,Om=new WeakMap,Vp=new WeakMap;function qC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(is(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&MT.set(n,r)}).catch(()=>{}),Vp.set(e,r),e}function HC(r){if(Qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Qm.set(r,e)}let $m={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||VT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FC(r){$m=r($m)}function GC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(km(this),e,...n);return VT.set(s,e.sort?e.sort():[e]),is(s)}:BC().includes(r)?function(...e){return r.apply(km(this),e),is(MT.get(this))}:function(...e){return is(r.apply(km(this),e))}}function KC(r){return typeof r=="function"?GC(r):(r instanceof IDBTransaction&&HC(r),zC(r,jC())?new Proxy(r,$m):r)}function is(r){if(r instanceof IDBRequest)return qC(r);if(Om.has(r))return Om.get(r);const e=KC(r);return e!==r&&(Om.set(r,e),Vp.set(e,r)),e}const km=r=>Vp.get(r);function YC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=is(h);return s&&h.addEventListener("upgradeneeded",p=>{s(is(h.result),p.oldVersion,p.newVersion,is(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QC=["get","getKey","getAll","getAllKeys","count"],$C=["put","add","delete","clear"],Mm=new Map;function EE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$C.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Mm.set(e,u),u}FC(r=>({...r,get:(e,n,s)=>EE(e,n)||r.get(e,n,s),has:(e,n)=>!!EE(e,n)||r.has(e,n)}));class XC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WC(r){return r.getComponent()?.type==="VERSION"}const Xm="@firebase/app",TE="0.14.7";const fr=new Mp("@firebase/app"),JC="@firebase/app-compat",ZC="@firebase/analytics-compat",eI="@firebase/analytics",tI="@firebase/app-check-compat",nI="@firebase/app-check",iI="@firebase/auth",rI="@firebase/auth-compat",sI="@firebase/database",aI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",uI="@firebase/functions-compat",cI="@firebase/installations",hI="@firebase/installations-compat",fI="@firebase/messaging",dI="@firebase/messaging-compat",mI="@firebase/performance",pI="@firebase/performance-compat",gI="@firebase/remote-config",yI="@firebase/remote-config-compat",_I="@firebase/storage",vI="@firebase/storage-compat",EI="@firebase/firestore",TI="@firebase/ai",bI="@firebase/firestore-compat",SI="firebase",AI="12.8.0";const Wm="[DEFAULT]",wI={[Xm]:"fire-core",[JC]:"fire-core-compat",[eI]:"fire-analytics",[ZC]:"fire-analytics-compat",[nI]:"fire-app-check",[tI]:"fire-app-check-compat",[iI]:"fire-auth",[rI]:"fire-auth-compat",[sI]:"fire-rtdb",[aI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[uI]:"fire-fn-compat",[cI]:"fire-iid",[hI]:"fire-iid-compat",[fI]:"fire-fcm",[dI]:"fire-fcm-compat",[mI]:"fire-perf",[pI]:"fire-perf-compat",[gI]:"fire-rc",[yI]:"fire-rc-compat",[_I]:"fire-gcs",[vI]:"fire-gcs-compat",[EI]:"fire-fst",[bI]:"fire-fst-compat",[TI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};const Mh=new Map,RI=new Map,Jm=new Map;function bE(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function aa(r){const e=r.name;if(Jm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const n of Mh.values())bE(n,r);for(const n of RI.values())bE(n,r);return!0}function sf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new bu("app","Firebase",CI);class II{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const fa=AI;function PT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Wm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=xT()),!n)throw rs.create("no-options");const u=Mh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new MC(o);for(const p of Jm.values())h.addComponent(p);const m=new II(n,s,h);return Mh.set(o,m),m}function Pp(r=Wm){const e=Mh.get(r);if(!e&&r===Wm&&xT())return PT();if(!e)throw rs.create("no-app",{appName:r});return e}function Oi(r,e,n){let s=wI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(h.join(" "));return}aa(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const DI="firebase-heartbeat-database",NI=1,uu="firebase-heartbeat-store";let Vm=null;function UT(){return Vm||(Vm=YC(DI,NI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function xI(r){try{const n=(await UT()).transaction(uu),s=await n.objectStore(uu).get(LT(r));return await n.done,s}catch(e){if(e instanceof ji)fr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function SE(r,e){try{const s=(await UT()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,LT(r)),await s.done}catch(n){if(n instanceof ji)fr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});fr.warn(s.message)}}}function LT(r){return`${r.name}!${r.options.appId}`}const OI=1024,kI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>kI){const o=UI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AE(),{heartbeatsToSend:n,unsentEntries:s}=VI(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function AE(){return new Date().toISOString().substring(0,10)}function VI(r,e=OI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?SC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wE(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function UI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function LI(r){aa(new us("platform-logger",e=>new XC(e),"PRIVATE")),aa(new us("heartbeat",e=>new MI(e),"PRIVATE")),Oi(Xm,TE,r),Oi(Xm,TE,"esm2020"),Oi("fire-js","")}LI("");var zI="firebase",jI="12.8.0";Oi(zI,jI,"app");function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=zT,jT=new bu("auth","Firebase",zT());const Vh=new Mp("@firebase/auth");function qI(r,...e){Vh.logLevel<=ke.WARN&&Vh.warn(`Auth (${fa}): ${r}`,...e)}function bh(r,...e){Vh.logLevel<=ke.ERROR&&Vh.error(`Auth (${fa}): ${r}`,...e)}function ai(r,...e){throw Up(r,...e)}function ki(r,...e){return Up(r,...e)}function BT(r,e,n){const s={...BI(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:r.name})}function ur(r){return BT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return jT.create(r,...e)}function ye(r,e,...n){if(!r)throw Up(e,...n)}function ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw bh(e),new Error(e)}function dr(r,e){r||ar(e)}function Zm(){return typeof self<"u"&&self.location?.href||""}function HI(){return RE()==="http:"||RE()==="https:"}function RE(){return typeof self<"u"&&self.location?.protocol||null}function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||_C()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=pC()||vC()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lp(r,e){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QI=new Au(3e4,6e4);function _s(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return HT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Su({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return yC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ys(r.emulatorConfig.host)&&(g.credentials="include"),qT.fetch()(await FT(r,r.config.apiHost,n,m),g)})}async function HT(r,e,n){r._canInitEmulator=!1;const s={...KI,...e};try{const o=new XI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BT(r,E,g);ai(r,E)}}catch(o){if(o instanceof ji)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function wu(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function FT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Lp(r.config,o):`${r.config.apiScheme}://${o}`;return YI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function $I(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),QI.get())})}}function hh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function CE(r){return r!==void 0&&r.enterprise!==void 0}class WI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $I(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(r,e){return vs(r,"GET","/v2/recaptchaConfig",_s(r,e))}async function ZI(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e2(r,e=!1){const n=vt(r),s=await n.getIdToken(e),o=zp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:nu(Pm(o.auth_time)),issuedAtTime:nu(Pm(o.iat)),expirationTime:nu(Pm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(r){return Number(r)*1e3}function zp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(bh("Failed to decode base64 JWT payload"),null)}catch(o){return bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function IE(r){const e=zp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ji&&t2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function t2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class n2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(r){const e=r.auth,n=await r.getIdToken(),s=await cu(r,Ph(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?GT(o.providerUserInfo):[],h=r2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function i2(r){const e=vt(r);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function s2(r,e){const n=await HT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await FT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ys(r.emulatorConfig.host)&&(p.credentials="include"),qT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a2(r,e){return vs(r,"POST","/v2/accounts:revokeToken",_s(r,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await s2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new yo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Xr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e2(this,e)}reload(){return i2(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await cu(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:F,stsTokenManager:K}=n;ye(T&&K,e,"internal-error");const H=yo.fromJSON(this.name,K);ye(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof M=="boolean",e,"internal-error"),Xr(u,e.name),Xr(h,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const ne=new ni({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(ne.providerData=F.map(te=>({...te}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new yo;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const DE=new Map;function or(r){dr(r instanceof Function,"Expected a class definition");let e=DE.get(r);return e?(dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,DE.set(r,e),e)}class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KT.type="NONE";const NE=KT;function Sh(r,e,n){return`firebase:${r}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(or(NE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(NE);const h=Sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Ph(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ni._fromGetAccountInfoResponse(e,A,E)}else T=ni._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new _o(u,e,s))}}function xE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(ZT(e))return"Webos";if(QT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function YT(r=tn()){return/firefox\//i.test(r)}function QT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(r=tn()){return/crios\//i.test(r)}function XT(r=tn()){return/iemobile/i.test(r)}function WT(r=tn()){return/android/i.test(r)}function JT(r=tn()){return/blackberry/i.test(r)}function ZT(r=tn()){return/webos/i.test(r)}function jp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function o2(r=tn()){return jp(r)&&!!window.navigator?.standalone}function l2(){return EC()&&document.documentMode===10}function eb(r=tn()){return jp(r)||WT(r)||ZT(r)||JT(r)||/windows phone/i.test(r)||XT(r)}function tb(r,e=[]){let n;switch(r){case"Browser":n=xE(tn());break;case"Worker":n=`${xE(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${s}`}class u2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function c2(r,e={}){return vs(r,"GET","/v2/passwordPolicy",_s(r,e))}const h2=6;class f2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class d2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ur(this));const n=e?vt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c2(this),n=new f2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await a2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(r){return vt(r)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=IC(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(r){af=r}function nb(r){return af.loadJS(r)}function p2(){return af.recaptchaEnterpriseScript}function g2(){return af.gapiScript}function y2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _2{constructor(){this.enterprise=new v2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E2="recaptcha-enterprise",ib="NO_RECAPTCHA";class T2{constructor(e){this.type=E2,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new WI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;CE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(ib)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&CE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=p2();p.length!==0&&(p+=m),nb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function kE(r,e,n,s=!1,o=!1){const u=new T2(r);let h;if(o)h=ib;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function b2(r,e){const n=sf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function S2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function A2(r,e,n){const s=da(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=rb(e),{host:h,port:m}=w2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(sa(g,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ys(h)?(Op(`${u}//${h}${p}`),kp("Auth",!0)):R2()}function rb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function w2(r){const e=rb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ME(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:ME(h)}}}function ME(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function R2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function C2(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}async function I2(r,e){return wu(r,"POST","/v1/accounts:signInWithPassword",_s(r,e))}async function D2(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}async function N2(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}class hu extends Bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",I2);case"emailLink":return D2(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,s,"signUpPassword",C2);case"emailLink":return N2(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vo(r,e){return wu(r,"POST","/v1/accounts:signInWithIdp",_s(r,e))}const x2="http://localhost";class oa extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}function O2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k2(r){const e=$l(Xl(r)).link,n=e?$l(Xl(e)).deep_link_id:null,s=$l(Xl(r)).deep_link_id;return(s?$l(Xl(s)).link:null)||s||n||e||r}class qp{constructor(e){const n=$l(Xl(e)),s=n.apiKey??null,o=n.oobCode??null,u=O2(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k2(e);try{return new qp(n)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qp.parseLink(n);return ye(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends Ru{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class Jr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class Zr extends Ru{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends Ru{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function M2(r,e){return wu(r,"POST","/v1/accounts:signUp",_s(r,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=VE(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=VE(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function VE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Lh extends ji{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function ab(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function V2(r,e,n=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}async function P2(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await cu(r,ab(s,o,e,r),n);ye(u.idToken,s,"internal-error");const h=zp(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function ob(r,e,n=!1){if(wn(r.app))return Promise.reject(ur(r));const s="signIn",o=await ab(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function U2(r,e){return ob(da(r),e)}async function lb(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L2(r,e,n){if(wn(r.app))return Promise.reject(ur(r));const s=da(r),h=await tp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lb(r),p}),m=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function z2(r,e,n){return wn(r.app)?Promise.reject(ur(r)):U2(vt(r),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lb(r),s})}function j2(r,e,n,s){return vt(r).onIdTokenChanged(e,n,s)}function B2(r,e,n){return vt(r).beforeAuthStateChanged(e,n)}function q2(r,e,n,s){return vt(r).onAuthStateChanged(e,n,s)}function H2(r){return vt(r).signOut()}const zh="__sak";class ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const F2=1e3,G2=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);l2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,G2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const K2=cb;class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hb.type="SESSION";const fb=hb;function Y2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await Y2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function Hp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class Q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Mi(){return window}function $2(r){Mi().location.href=r}function db(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function X2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){return navigator?.serviceWorker?.controller||null}function J2(){return db()?self:null}const mb="firebaseLocalStorageDb",Z2=1,jh="firebaseLocalStorage",pb="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function eD(){const r=indexedDB.deleteDatabase(mb);return new Cu(r).toPromise()}function np(){const r=indexedDB.open(mb,Z2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jh,{keyPath:pb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await eD(),e(await np()))})})}async function PE(r,e,n){const s=lf(r,!0).put({[pb]:e,value:n});return new Cu(s).toPromise()}async function tD(r,e){const n=lf(r,!1).get(e),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function UE(r,e){const n=lf(r,!0).delete(e);return new Cu(n).toPromise()}const nD=800,iD=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(J2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await PE(e,zh,"1"),await UE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>PE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const rD=gb;new Au(3e4,6e4);function sD(r,e){return e?or(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fp extends Bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aD(r){return ob(r.auth,new Fp(r),r.bypassAuthState)}function oD(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),P2(n,new Fp(r),r.bypassAuthState)}async function lD(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),V2(n,new Fp(r),r.bypassAuthState)}class yb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return oD;default:ai(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uD=new Au(2e3,1e4);class go extends yb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}go.currentPopupAction=null;const cD="pendingRedirect",Ah=new Map;class hD extends yb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await fD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fD(r,e){const n=pD(e),s=mD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dD(r,e){Ah.set(r._key(),e)}function mD(r){return or(r._redirectPersistence)}function pD(r){return Sh(cD,r.config.apiKey,r.name)}async function gD(r,e,n=!1){if(wn(r.app))return Promise.reject(ur(r));const s=da(r),o=sD(s,e),h=await new hD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const yD=600*1e3;class _D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_b(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _b({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function vD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _b(r);default:return!1}}async function ED(r,e={}){return vs(r,"GET","/v1/projects",e)}const TD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bD=/^https?/;async function SD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ED(r);for(const n of e)try{if(AD(n))return}catch{}ai(r,"unauthorized-domain")}function AD(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!bD.test(n))return!1;if(TD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const wD=new Au(3e4,6e4);function zE(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RD(r){return new Promise((e,n)=>{function s(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(ki(r,"network-request-failed"))},timeout:wD.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=y2("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},nb(`${g2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw wh=null,e})}let wh=null;function CD(r){return wh=wh||RD(r),wh}const ID=new Au(5e3,15e3),DD="__/auth/iframe",ND="emulator/auth/iframe",xD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lp(e,ND):`https://${r.config.authDomain}/${DD}`,s={apiKey:e.apiKey,appName:r.name,v:fa},o=OD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function MD(r){const e=await CD(r),n=Mi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:kD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ki(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(h)},ID.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PD=500,UD=600,LD="_blank",zD="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jD(r,e,n,s=PD,o=UD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...VD,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=$T(g)?LD:n),YT(g)&&(e=e||zD,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,F])=>`${A}${M}=${F},`,"");if(o2(g)&&m!=="_self")return BD(e||"",m),new jE(null);const T=window.open(e||"",m,E);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new jE(T)}function BD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qD="__/auth/handler",HD="emulator/auth/handler",FD=encodeURIComponent("fac");async function BE(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fa,eventId:o};if(e instanceof sb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",CC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Ru){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${FD}=${encodeURIComponent(p)}`:"";return`${GD(r)}?${Su(m).slice(1)}${g}`}function GD({config:r}){return r.emulator?Lp(r,HD):`https://${r.authDomain}/${qD}`}const Um="webStorageSupport";class KD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=gD,this._overrideRedirectResult=dD}async _openPopup(e,n,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await BE(e,n,s,Zm(),o);return jD(e,u,Hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await BE(e,n,s,Zm(),o);return $2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await MD(e),s=new _D(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eb()||QT()||jp()}}const YD=KD;var qE="@firebase/auth",HE="1.12.0";class QD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $D(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XD(r){aa(new us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tb(r)},g=new d2(s,o,u,p);return S2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),aa(new us("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new QD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(qE,HE,$D(r)),Oi(qE,HE,"esm2020")}const WD=300,JD=OT("authIdTokenMaxAge")||WD;let FE=null;const ZD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JD)return;const o=n?.token;FE!==o&&(FE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eN(r=Pp()){const e=sf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=b2(r,{popupRedirectResolver:YD,persistence:[rD,K2,fb]}),s=OT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=ZD(u.toString());B2(n,h,()=>h(n.currentUser)),j2(n,m=>h(m))}}const o=DT("auth");return o&&A2(n,`http://${o}`),n}function tN(){return document.getElementsByTagName("head")?.[0]??document}m2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XD("Browser");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,vb;(function(){var r;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,O,U){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return w.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],O=C.g[2];let U=C.g[3],I;I=w+(U^R&(O^U))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(O^w&(R^O))+V[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=O+(R^U&(w^R))+V[2]+606105819&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(w^O&(U^w))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(U^R&(O^U))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(O^w&(R^O))+V[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=O+(R^U&(w^R))+V[6]+2821735955&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(w^O&(U^w))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(U^R&(O^U))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(O^w&(R^O))+V[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=O+(R^U&(w^R))+V[10]+4294925233&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(w^O&(U^w))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(U^R&(O^U))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(O^w&(R^O))+V[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=O+(R^U&(w^R))+V[14]+2792965006&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(w^O&(U^w))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^U&(R^O))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(w^R))+V[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(U^w))+V[11]+643717713&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(O^U))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^U&(R^O))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(w^R))+V[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(U^w))+V[15]+3634488961&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(O^U))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^U&(R^O))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(w^R))+V[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(U^w))+V[3]+4107603335&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(O^U))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^U&(R^O))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(w^R))+V[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(U^w))+V[7]+1735328473&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(O^U))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^U)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^O)+V[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=O+(U^w^R)+V[11]+1839030562&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^w)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^U)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^O)+V[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=O+(U^w^R)+V[7]+4139469664&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^w)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^U)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^O)+V[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=O+(U^w^R)+V[3]+3572445317&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^w)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^U)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^O)+V[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=O+(U^w^R)+V[15]+530742520&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^w)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~U))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~O))+V[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=O+(w^(U|~R))+V[14]+2878612391&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~w))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~U))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~O))+V[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=O+(w^(U|~R))+V[10]+4293915773&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~w))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~U))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~O))+V[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=O+(w^(U|~R))+V[6]+2734768916&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~w))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~U))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~O))+V[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=O+(w^(U|~R))+V[2]+718787259&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<w;){if(O==0)for(;U<=R;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(V[O++]=C.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<w;)if(V[O++]=C[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function h(C,w){this.h=w;const R=[];let V=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;V&&U==w||(R[O]=U,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new h([w|0],w<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return H(g(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new h(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return H(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let V=T;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const I=parseInt(C.substring(U,U+O),w);O<8?(O=g(Math.pow(w,O)),V=V.j(O).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var T=p(0),A=p(1),M=p(16777216);r=h.prototype,r.m=function(){if(K(this))return-H(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(K(this))return"-"+H(this).toString(C);const w=g(Math.pow(C,6));var R=this;let V="";for(;;){const O=fe(R,w).g;R=ne(R,O.j(w));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,F(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function K(C){return C.h==-1}r.l=function(C){return C=ne(this,C),K(C)?-1:F(C)?0:1};function H(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new h(R,~C.h).add(A)}r.abs=function(){return K(this)?H(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let U=V+(this.i(O)&65535)+(C.i(O)&65535),I=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=I>>>16,U&=65535,I&=65535,R[O]=I<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ne(C,w){return C.add(H(w))}r.j=function(C){if(F(this)||F(C))return T;if(K(this))return K(C)?H(this).j(H(C)):H(H(this).j(C));if(K(C))return H(this.j(H(C)));if(this.l(M)<0&&C.l(M)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const U=this.i(V)>>>16,I=this.i(V)&65535,st=C.i(O)>>>16,kt=C.i(O)&65535;R[2*V+2*O]+=I*kt,te(R,2*V+2*O),R[2*V+2*O+1]+=U*kt,te(R,2*V+2*O+1),R[2*V+2*O+1]+=I*st,te(R,2*V+2*O+1),R[2*V+2*O+2]+=U*st,te(R,2*V+2*O+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new h(R,0)};function te(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ie(C,w){this.g=C,this.h=w}function fe(C,w){if(F(w))throw Error("division by zero");if(F(C))return new ie(T,T);if(K(C))return w=fe(H(C),w),new ie(H(w.g),H(w.h));if(K(w))return w=fe(C,H(w)),new ie(H(w.g),w.h);if(C.g.length>30){if(K(C)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=w;V.l(C)<=0;)R=Te(R),V=Te(V);var O=ve(R,1),U=ve(V,1);for(V=ve(V,2),R=ve(R,2);!F(V);){var I=U.add(V);I.l(C)<=0&&(O=O.add(R),U=I),V=ve(V,1),R=ve(R,1)}return w=ne(C,O.j(w)),new ie(O,w)}for(O=T;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(R),I=U.j(w);K(I)||I.l(C)>0;)R-=V,U=g(R),I=U.j(w);F(U)&&(U=A),O=O.add(U),C=ne(C,I)}return new ie(O,C)}r.B=function(C){return fe(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function Te(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function ve(C,w){const R=w>>5;w%=32;const V=C.g.length-R,O=[];for(let U=0;U<V;U++)O[U]=w>0?C.i(U+R)>>>w|C.i(U+R+1)<<32-w:C.i(U+R);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,vb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ss=h}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,Wl,Tb,Rh,ip,bb,Sb,Ab;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[L].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const G=L.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=L[re]}else c.push(L)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ve=!1,C=new te,w=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(st,O),st.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,S,L){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=L,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function k(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let G=0;G<J.length;G++)v=J[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,S,L){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,S,L);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!S,L),y.fa=v,c.push(y)),y};function Ee(c,y){const v=y.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,y,void 0),G;(G=L>=0)&&Array.prototype.splice.call(S,L,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,S){for(let L=0;L<c.length;++L){const G=c[L];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,v,S,L){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,S,L);return null}return v=qo(v),c&&c[kt]?c.J(y,v,m(S)?!!S.capture:!1,L):Es(c,y,v,!1,S,L)}function Es(c,y,v,S,L,G){if(!y)throw Error("Invalid event type");const re=m(L)?!!L.capture:!!L;let we=Ts(c);if(we||(c[Ue]=we=new ue(c)),v=we.add(y,v,S,re,G),v.proxy)return v;if(S=Ea(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(L=re),L===void 0&&(L=!1),c.addEventListener(y.toString(),S,L);else if(c.attachEvent)c.attachEvent(li(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ea(){function c(v){return y.call(c.src,c.listener,v)}const y=jo;return c}function Ta(c,y,v,S,L){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ta(c,y[G],v,S,L);else S=m(S)?!!S.capture:!!S,v=qo(v),c&&c[kt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,S,L),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,S,L)),(v=c>-1?y[c]:null)&&ba(v))}function ba(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])Ee(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(li(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ts(y))?(Ee(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function li(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function jo(c,y){if(c.da)c=!0;else{y=new st(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ba(c),c=v.call(S,y)}return c}function Ts(c){return c=c[Ue],c instanceof ue?c:null}var Bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(c){return typeof c=="function"?c:(c[Bo]||(c[Bo]=function(y){return c.handleEvent(y)}),c[Bo])}function Et(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}T(Et,V),Et.prototype[kt]=!0,Et.prototype.removeEventListener=function(c,y,v,S){Ta(this,c,y,v,S)};function Vt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var L=y;y=new O(S,c),ae(y,L)}L=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],L=yr(G,S,!0,y)&&L;if(G=y.g=c,L=yr(G,S,!0,y)&&L,L=yr(G,S,!1,y)&&L,v)for(re=0;re<v.length;re++)G=y.g=v[re],L=yr(G,S,!1,y)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Et.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function yr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const we=re.listener,pt=re.ha||re.src;re.fa&&Ee(c.i,re),L=we.call(pt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Af(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Vu(c){c.g=Af(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){V.call(this),this.h=c,this.g={}}T(bs,V);var Ho=[];function Fo(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&ba(y)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Fo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,wf=h.JSON.parse,Pu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Uu(){}function Lu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}T(qt,O);function In(){O.call(this,"c")}T(In,O);var mt={},zu=null;function Sa(){return zu=zu||new Et}mt.Ia="serverreachability";function ju(c){O.call(this,mt.Ia,c)}T(ju,O);function ui(c){const y=Sa();Vt(y,new ju(y))}mt.STAT_EVENT="statevent";function Ss(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}T(Ss,O);function Tt(c){const y=Sa();Vt(y,new Ss(y,c))}mt.Ja="timingevent";function ci(c,y){O.call(this,mt.Ja,c),this.size=y}T(ci,O);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Rf(c,y,v,S,L,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let qe=0;qe<we.length;qe++){var pt=we[qe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const On=ot.split("_");re=On.length>=2&&On[1]=="type"?re+(ot+"="+pt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+y+`
`+v+`
`+re})}function Bu(c,y,v,S,L,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+y+`
`+v+`
`+G+" "+re})}function fi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cf(c,v)+(S?" "+S:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function Cf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return _r(G)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function Rs(){}T(Rs,Uu),Rs.prototype.g=function(){return new XMLHttpRequest},Ko=new Rs;function Bi(c){return encodeURIComponent(String(c))}function qu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function di(c,y,v){c.M=1,c.A=Cs(At(y)),c.u=v,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),mi(c),c.B=At(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ia(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Yn,c.g=ic(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ho[0]=L.toString()),L=Ho);for(let G=0;G<L.length;G++){const re=at(v,L[G],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),Rf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Xn(this.g),pt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||qe<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=If(this);if(this.o=y==200,Bu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var G=S;break t}}G=null}if(c=G)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),Dn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Fu(this,v),ot==Lt){we==4&&(this.m=4,Tt(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,Tt(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ot,null),gi(this,ot);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ol(re),re.P=!0,Tt(11))}}else fi(this.i,this.l,v,null),gi(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?Zu(this.j,this):(this.o=!1,mi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),Dn(this)}}}catch{}};function If(c){if(!Hu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const S=y.length,L=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Dn(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(L&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Fu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?bt:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Kn.prototype.cancel=function(){this.K=!0,gn(this)};function mi(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ui(),Tt(17)),gn(this),this.m=2,Dn(this)):wa(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Zu(c.j,c)}function gn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Fo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ka(v),Rr(v);else break e;Ms(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&ka(v),!I(y))for(L=v.Ba.g.parse(y),y=0;y<L.length;y++){let qe=L[y];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const On=qe[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const wi=qe[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=c.g;if(Jn){const Vs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var G=S.h;G.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&($o(G,G.h),G.h=null))}if(S.G){const Ma=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(S.wa=Ma,Ke(S.J,S.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=nc(S,S.L?S.ba:null,S.W),re.L){Xo(S.h,re);var we=re,pt=S.O;pt&&(we.H=pt),we.D&&(pi(we),mi(we)),S.g=re}else Wu(S);v.i.length>0&&Si(v)}else qe[0]!="stop"&&qe[0]!="close"||Ai(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ai(v,7):sl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ui(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $o(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,G=null;S>=0?(L=c[v].substring(0,S),G=c[v].substring(S+1)):L=c[v],y(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Jo(this,$u(c.i)),this.m=c.m):c&&(y=String(c).match(Gu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),vr(this,y[4]),this.h=vi(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Is(y,Ca,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Ca,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Zo:Ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Yu)),c.join("")},yn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=y.h.lastIndexOf("/");L!=-1&&(S=y.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let re=0;re<L.length;){const we=L[re++];we=="."?S&&re==L.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==L.length&&G.push("")):(G.push(we),S=!0)}S=G.join("/")}else S=L}return v?y.h=S:v=c.i.toString()!=="",v?Jo(y,$u(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new yn(c)}function zt(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Jo(c,y,v){y instanceof Tr?(c.i=y,Da(c.i,c.l)):(v||(y=Is(y,Er)),c.i=new Tr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Cs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Ku=/[#\?:]/g,Zo=/[#\?]/g,Er=/[#\?@]/g,Yu=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,y){ln(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Qu(c,y){ln(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function el(c,y){return ln(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(y,L,S,this)},this)},this)};function tl(c,y){ln(c);let v=[];if(typeof y=="string")el(c,y)&&(v=v.concat(c.g.get(br(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=br(this,c),el(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=tl(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,v){Qu(c,y),v.length>0&&(c.i=null,c.g.set(br(c,y),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const L=Bi(v);v=tl(this,v);for(let G=0;G<v.length;G++){let re=L;v[G]!==""&&(re+="="+Bi(v[G])),c.push(re)}}return this.i=c.join("&")};function $u(c){const y=new Tr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Qu(this,S),Ia(this,L,v))},c)),c.j=y}function Qn(c,y){const v=new Gn;if(h.Image){const S=new Image;S.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Nn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function nl(c,y){const v=new Gn,S=new AbortController,L=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(L),G.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Sr(){this.g=new Pu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,Uu),Ei.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ds,Et),r=Ds.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):$n(this),this.readyState==3&&Na(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return ze(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ns(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=xn(v),typeof c=="string"?v!=null&&Bi(v):Ke(c,y,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,Et);var Ti=/^https?$/i,il=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){xs(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),L=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(il,y,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){xs(this,G)}};function xs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,rl(c),qi(c)}function rl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let re=String(c.D).match(Gu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Ti.test(re?re.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var L=Xn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",rl(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=qu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[L]||[];y[L]=G,G.push(v)}Ge(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function wr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){Tt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=nc(this,null,this.W),Si(this)};function sl(c){if(xa(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),ks(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=Cs(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}tc(c)}function Rr(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function xa(c){Rr(c),c.v&&(h.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Si(c){if(!Qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||w(),ve||(Te(),ve=!0),C.add(y,c),c.D=0}}function Oa(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=k(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Xu(this,L,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),ks(this,v),G&&(this.R?y="headers="+Bi(xn(G))+"&"+y:this.u&&Ns(v,this.u,G)),$o(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),L.U=!0,di(L,v,null)):di(L,v,y),this.I=2}}else this.I==3&&(c?al(this,c):this.i.length==0||Qo(this.h)||al(this))};function al(c,y){var v;y?v=y.l:v=c.V++;const S=At(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),ks(c,S),c.u&&c.o&&Ns(S,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$o(c.h,v),di(v,S,y)}function ks(c,y){c.H&&ze(c.H,function(v,S){Ke(y,S,v)}),c.l&&ze({},function(v,S){Ke(y,S,v)})}function Xu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=L[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let qe=!0;for(let ot=0;ot<v;ot++){var G=L[ot].g;const On=L[ot].map;if(G-=we,G<0)we=Math.max(0,L[ot].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[wi,Wn]of re){let Jn=Wn;m(Wn)&&(Jn=_r(Wn)),pt.push(G+wi+"="+encodeURIComponent(Jn))}}catch(wi){throw pt.push(G+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(On)}}if(qe){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Wu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||w(),ve||(Te(),ve=!0),C.add(y,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Rr(this),Ju(this))};function ol(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Ju(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Ns(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(At(y)),v.u=null,v.R=!0,Aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Ms(this),Tt(19))};function ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Zu(c,y){var v=null;if(c.g==y){ka(c),ol(c),c.g=null;var S=2}else if(_i(c.h,y))v=y.G,Xo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var L=c.D;S=Sa(),Vt(S,new ci(S,v)),Si(c)}else Wu(c);else if(L=y.m,L==3||L==0&&y.X>0||!(S==1&&Oa(c,y)||S==2&&Ms(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),L){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function ec(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const L=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),Cs(S),L?Qn(S.toString(),v):nl(S.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),tc(c),xa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function nc(c,y,v){var S=v instanceof yn?At(v):new yn(v);if(S.g!="")y&&(S.g=y+"."+S.g),vr(S,S.u);else{var L=h.location;S=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const G=new yn(null);S&&zt(G,S),y&&(G.g=y),L&&vr(G,L),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Ke(S,v,y),Ke(S,"VER",c.ka),ks(c,S),S}function ic(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Ei({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Et.call(this),this.g=new wr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){sl(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&Si(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,rn.Z.N.call(this)};function sc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(sc,qt);function ac(){In.call(this),this.status=1}T(ac,In);function Fi(c){this.g=c}T(Fi,rc),Fi.prototype.ra=function(){Vt(this.g,"a")},Fi.prototype.qa=function(c){Vt(this.g,new sc(c))},Fi.prototype.pa=function(c){Vt(this.g,new ac)},Fi.prototype.oa=function(){Vt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Ab=function(){return new Cr},Sb=function(){return Sa()},bb=mt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Rh=ws,Go.COMPLETE="complete",Tb=Go,Lu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Wl=Lu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Eb=$e}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Mo="12.8.0";function nN(r){Mo=r}const ua=new Mp("@firebase/firestore");function ho(){return ua.logLevel}function le(r,...e){if(ua.logLevel<=ke.DEBUG){const n=e.map(Gp);ua.debug(`Firestore (${Mo}): ${r}`,...n)}}function mr(r,...e){if(ua.logLevel<=ke.ERROR){const n=e.map(Gp);ua.error(`Firestore (${Mo}): ${r}`,...n)}}function So(r,...e){if(ua.logLevel<=ke.WARN){const n=e.map(Gp);ua.warn(`Firestore (${Mo}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,wb(r,s,n)}function wb(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||wb(e,o,s)}function Ae(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ta)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Rb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class aN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function rp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?Me(o,u):Lm(o)?1:-1}return Me(r.length,e.length)}const cN=55296,hN=57343;function Lm(r){const e=r.charCodeAt(0);return e>=cN&&e<=hN}function Ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const YE="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends Ni{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ni{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return fN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YE}static keyField(){return new $t([YE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}function Cb(r,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dN(r,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function QE(r){if(!me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $E(r){if(me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ib(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function as(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Iu(r,e){if(!Ib(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const XE=-62135596800,WE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*WE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:xt("string",it._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function mN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new cs(o,me.empty(),e)}function pN(r){return new cs(r.readTime,r.key,fu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(be.min(),me.empty(),fu)}static max(){return new cs(be.max(),me.empty(),fu)}}function gN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==yN)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}class cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cf.ce=-1;const Yp=-1;function hf(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function EN(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Db="";function TN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=JE(e)),e=bN(r.get(n),e);return JE(e)}function bN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Db:n+="";break;default:n+=u}}return n}function JE(r){return r+Db+""}function ZE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ma(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Nb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(e){return new e0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class e0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new ii([])}unionWith(e){let n=new Ut($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=SN.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const Ob="server_timestamp",kb="__type__",Mb="__previous_value__",Vb="__local_write_time__";function Qp(r){return(r?.mapValue?.fields||{})[kb]?.stringValue===Ob}function ff(r){const e=r.mapValue.fields[Mb];return Qp(e)?ff(e):e}function du(r){const e=hs(r.mapValue.fields[Vb].timestampValue);return new it(e.seconds,e.nanos)}class AN{constructor(e,n,s,o,u,h,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const qh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function wN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(r.options.projectId,e)}const Pb="__type__",RN="__max__",mh={mapValue:{}},Ub="__vector__",Hh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:IN(r)?9007199254740991:CN(r)?10:11:_e(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hs(o.timestampValue),m=hs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ZE(h)!==ZE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zi(h[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function wo(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return t0(r.timestampValue,e.timestampValue);case 4:return t0(du(r),du(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=fs(u),p=fs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Me(_t(u.latitude),_t(h.latitude));return m!==0?m:Me(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return n0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Hh]?.arrayValue,E=p[Hh]?.arrayValue,T=Me(g?.values?.length||0,E?.values?.length||0);return T!==0?T:n0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=rp(p[T],E[T]);if(A!==0)return A;const M=wo(m[p[T]],g[E[T]]);if(M!==0)return M}return Me(p.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function t0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=hs(r),s=hs(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function n0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function Ro(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sp(n.fields[h])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function Ch(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ma(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function i0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ap(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function s0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function CN(r){return(r?.mapValue?.fields||{})[Pb]?.stringValue===Ub}function iu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ma(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(r.arrayValue.values[n]);return e}return{...r}}function IN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=iu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ma(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(iu(this.value))}}function Lb(r){const e=[];return ma(r.fields,((n,s)=>{const o=new $t([n]);if(Ih(s)){const u=Lb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ii(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function a0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=wo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class zb{}class Nt extends zb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xN(e,n,s):n==="array-contains"?new MN(e,s):n==="in"?new VN(e,s):n==="not-in"?new PN(e,s):n==="array-contains-any"?new UN(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ON(e,s):new kN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends zb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jb(r){return r.op==="and"}function Bb(r){return NN(r)&&jb(r)}function NN(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function op(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(Bb(r))return r.filters.map((e=>op(e))).join(",");{const e=r.filters.map((n=>op(n))).join(",");return`${r.op}(${e})`}}function qb(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&qb(h,o.filters[m])),!0):!1})(r,e):void _e(19439)}function Hb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hb).join(" ,")+"}"})(r):"Filter"}class xN extends Nt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class ON extends Nt{constructor(e,n){super(e,"in",n),this.keys=Fb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Fb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Fb(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class MN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&pu(n.arrayValue,this.value)}}class VN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class PN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class UN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}class LN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function l0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new LN(r,e,n,s,o,u,h)}function Xp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>op(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ro(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ro(s))).join(",")),e.Te=n}return e.Te}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!DN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o0(r.startAt,e.startAt)&&o0(r.endAt,e.endAt)}function lp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Uo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zN(r,e,n,s,o,u,h,m){return new Uo(r,e,n,s,o,u,h,m)}function Jp(r){return new Uo(r)}function u0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jN(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Gb(r){return r.collectionGroup!==null}function ru(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new gu($t.keyField(),s))}return e.Ie}function Vi(r){const e=Ae(r);return e.Ee||(e.Ee=BN(e,ru(r))),e.Ee}function BN(r,e){if(r.limitType==="F")return l0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)}));const n=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return l0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function up(r,e){const n=r.filters.concat([e]);return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qN(r,e){const n=r.explicitOrderBy.concat([e]);return new Uo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function cp(r,e,n){return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function df(r,e){return Wp(Vi(r),Vi(e))&&r.limitType===e.limitType}function Kb(r){return`${Xp(Vi(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Hb(o))).join(", ")}]`),hf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function mf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=a0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(h,m,p){const g=a0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(r,e)}function HN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Yb(r){return(e,n)=>{let s=!1;for(const o of ru(r)){const u=FN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function FN(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wo(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}const GN=new ct(me.comparator);function pr(){return GN}const Qb=new ct(me.comparator);function Jl(...r){let e=Qb;for(const n of r)e=e.insert(n.key,n);return e}function $b(r){let e=Qb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return su()}function Xb(){return su()}function su(){return new pa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const KN=new ct(me.comparator),YN=new Ut(me.comparator);function Ve(...r){let e=YN;for(const n of r)e=e.add(n);return e}const QN=new Ut(Me);function $N(){return QN}function Zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function Wb(r){return{integerValue:""+r}}function XN(r,e){return EN(e)?Wb(e):Zp(r,e)}class pf{constructor(){this._=void 0}}function WN(r,e,n){return r instanceof Gh?(function(o,u){const h={fields:{[kb]:{stringValue:Ob},[Vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=ff(u)),u&&(h.fields[Mb]=u),{mapValue:h}})(n,e):r instanceof yu?Zb(r,e):r instanceof _u?eS(r,e):(function(o,u){const h=Jb(o,u),m=c0(h)+c0(o.Ae);return ap(h)&&ap(o.Ae)?Wb(m):Zp(o.serializer,m)})(r,e)}function JN(r,e,n){return r instanceof yu?Zb(r,e):r instanceof _u?eS(r,e):n}function Jb(r,e){return r instanceof Kh?(function(s){return ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gh extends pf{}class yu extends pf{constructor(e){super(),this.elements=e}}function Zb(r,e){const n=tS(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class _u extends pf{constructor(e){super(),this.elements=e}}function eS(r,e){let n=tS(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class Kh extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c0(r){return _t(r.integerValue||r.doubleValue)}function tS(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?Ao(s.elements,o.elements,zi):s instanceof Kh&&o instanceof Kh?zi(s.Ae,o.Ae):s instanceof Gh&&o instanceof Gh})(r.transform,e.transform)}class ex{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gf{}function nS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,ri.none()):new Du(r.key,r.data,ri.none());{const n=r.data,s=Bn.empty();let o=new Ut($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ga(r.key,s,new ii(o.toArray()),ri.none())}}function tx(r,e,n){r instanceof Du?(function(o,u,h){const m=o.value.clone(),p=f0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ga?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=f0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(iS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function au(r,e,n,s){return r instanceof Du?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),E=d0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ga?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=d0(u.fieldTransforms,p,h),E=h.data;return E.setAll(iS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function nx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Jb(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function h0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>ZN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends gf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends gf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function f0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,JN(h,m,n[o]))}return s}function d0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,WN(u,h,e))}return s}class eg extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ix extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Xb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=nS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>h0(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>h0(n,s)))}}class tg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return KN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new tg(e,n,s,o)}}class sx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ax{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Le;function ox(r){switch(r){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function rS(r){if(r===void 0)return mr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=Dt||(Dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function lx(){return new TextEncoder}const ux=new ss([4294967295,4294967295],0);function m0(r){const e=lx().encode(r),n=new vb;return n.update(e),new Uint8Array(n.digest())}function p0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(ux)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=m0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ng(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=m0(e),[s,o]=p0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yf(be.min(),o,new ct(Me),pr(),Ve())}}class Nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Nu(s,n,Ve(),Ve(),Ve())}}class Nh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class sS{constructor(e,n){this.targetId=e,this.Ce=n}}class aS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g0{constructor(){this.ve=0,this.Fe=y0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new Nu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=y0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cx{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.He=ph(),this.Je=ph(),this.Ze=new ct(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lp(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=fs(s).toUint8Array()}catch(p){if(p instanceof xb)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ng(h,o,u)}catch(p){return So(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&lp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new yf(e,n,this.Ze,this.je,s);return this.je=pr(),this.He=ph(),this.Je=ph(),this.Ze=new ct(Me),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new g0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new ct(me.comparator)}function y0(){return new ct(me.comparator)}const hx={asc:"ASCENDING",desc:"DESCENDING"},fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dx={and:"AND",or:"OR"};class mx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(r,e){return r.useProto3Json||hf(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function px(r,e){return Yh(r,e.toTimestamp())}function Pi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=hs(n);return new it(s.seconds,s.nanos)})(r))}function ig(r,e){return fp(r,e).canonicalString()}function fp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function lS(r){const e=et.fromString(r);return Fe(dS(e),10190,{key:e.toString()}),e}function dp(r,e){return ig(r.databaseId,e.path)}function zm(r,e){const n=lS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(cS(n))}function uS(r,e){return ig(r.databaseId,e)}function gx(r){const e=lS(r);return e.length===4?et.emptyPath():cS(e)}function mp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _0(r,e,n){return{name:dp(r,e),fields:n.value.mapValue.fields}}function yx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:rS(g.code);return new oe(E,g.message||"")})(h);n=new aS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(r,s.document.name),u=Pi(s.document.updateTime),h=s.document.createTime?Pi(s.document.createTime):be.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Nh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(r,s.document),u=s.readTime?Pi(s.readTime):be.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(r,s.document),u=s.removedTargetIds||[];n=new Nh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ax(o,u),m=s.targetId;n=new sS(m,h)}}return n}function _x(r,e){let n;if(e instanceof Du)n={update:_0(r,e.key,e.value)};else if(e instanceof eg)n={delete:dp(r,e.key)};else if(e instanceof ga)n={update:_0(r,e.key,e.data),updateMask:Cx(e.fieldMask)};else{if(!(e instanceof ix))return _e(16599,{dt:e.type});n={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:px(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function vx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Pi(o.updateTime):Pi(u);return h.isEqual(be.min())&&(h=Pi(u)),new ex(h,o.transformResults||[])})(n,e)))):[]}function Ex(r,e){return{documents:[uS(r,e.path)]}}function Tx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uS(r,o);const u=(function(g){if(g.length!==0)return fS(oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:mo(A.field),direction:Ax(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=hp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function bx(r){let e=gx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=hS(T);return A instanceof oi&&Bb(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new gu(po(F.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,hf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,M=T.values||[];return new Fh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,M=T.values||[];return new Fh(M,A)})(n.endAt)),zN(e,o,h,u,m,"F",p,g)}function Sx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>hS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function Ax(r){return hx[r]}function wx(r){return fx[r]}function Rx(r){return dx[r]}function mo(r){return{fieldPath:r.canonicalString()}}function po(r){return $t.fromServerFormat(r.fieldPath)}function fS(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(r0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(r0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:wx(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>fS(o)));return s.length===1?s[0]:{compositeFilter:{op:Rx(n.op),filters:s}}})(r):_e(54877,{filter:r})}function Cx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function dS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function mS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ix{constructor(e){this.yt=e}}function Dx(r){const e=bx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cp(e,e.limit,"L"):e}class Nx{constructor(){this.Sn=new xx}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(cs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(et.comparator)).toArray()}}const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(pS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Co{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Co(0)}static ar(){return new Co(-1)}}const E0="LruGarbageCollector",Ox=1048576;function T0([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class kx{constructor(e){this.Pr=e,this.buffer=new Ut(T0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();T0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(E0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?le(E0,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Ar(3e5)}))}}class Vx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(cf.ce);const s=new kx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(v0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ho()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Px(r,e){return new Vx(r,e)}class Ux{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&au(s.mutation,o,ii.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=pr();const h=su(),m=(function(){return su()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ga)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,ii.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new Lx(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=su();let o=new ct(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ii.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Xb();E.forEach((A=>{if(!u.has(A)){const M=nS(n.get(A),s.get(A));M!==null&&T.set(A,M),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return jN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ea());let m=fu,p=u;return h.next((g=>ee.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((E=>({batchId:m,changes:$b(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,A){return new Uo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&au(E.mutation,g,ii.empty(),it.now()),mf(n,g)&&(m=m.insert(p,g))})),m}))}}class jx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Dx(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),ee.resolve()}}class Bx{constructor(){this.overlays=new ct(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ea(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new sx(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class qx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class rg{constructor(){this.kr=new Ut(Bt.Kr),this.qr=new Ut(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new et([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new et([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class Hx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Bt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Yp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Me);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Ut(Me);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fx{constructor(e){this.ti=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||gN(pN(E),s)<=0||(o.has(E.key)||mf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Gx(this)}getSize(e){return ee.resolve(this.size)}}class Gx extends Ux{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Kx{constructor(e){this.persistence=e,this.ri=new pa((n=>Xp(n)),Wp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=Co._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class gS{constructor(e,n){this._i={},this.overlays={},this.ai=new cf(0),this.ui=!1,this.ui=!0,this.ci=new qx,this.referenceDelegate=e(this),this.li=new Kx(this),this.indexManager=new Nx,this.remoteDocumentCache=(function(o){return new Fx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Ix(n),this.Pi=new jx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Hx(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new Yx(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class Yx extends _N{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new sg(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.fi=new pa((s=>TN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Px(this,n)}static Vi(e,n){return new Qh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,n.fromCache,s,o)}}class Qx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $x{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return TC()?8:vN(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new Qx;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ho()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ho()<=ke.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ho()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ee.resolve())}gs(e,n){if(u0(n))return ee.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,cp(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return u0(n)||o.isEqual(be.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(ho()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,h,n,mN(o,fu)).next((m=>m)))}))}bs(e,n){let s=new Ut(Yb(e));return n.forEach(((o,u)=>{mf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ho()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,cs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const og="LocalStore",Xx=3e8;class Wx{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Me),this.Fs=new pa((u=>Xp(u)),Wp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Jx(r,e,n,s){return new Wx(r,e,n,s)}async function yS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function Zx(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let M=ee.resolve();return A.forEach((F=>{M=M.next((()=>E.getEntry(p,F))).next((K=>{const H=g.docVersions.get(F);Fe(H!==null,48541),K.version.compareTo(H)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function _S(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function eO(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(K,H,ne){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Xx?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,M,E)&&m.push(n.li.updateTargetData(u,M))}));let p=pr(),g=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(tO(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function tO(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=pr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(og,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function nO(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function iO(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ns(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function pp(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Po(h))throw h;le(og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function b0(r,e,n){const s=Ae(r);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),A=T.Fs.get(E);return A!==void 0?ee.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,h,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(rO(s,HN(e),m),{documents:m,ks:u})))))}function rO(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class S0{constructor(){this.activeTargetIds=$N()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sO{constructor(){this.vo=new S0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new S0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aO{Mo(e){}shutdown(){}}const A0="ConnectivityMonitor";class w0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(A0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(A0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gh=null;function gp(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}const jm="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=gp(),m=this.Qo(e,n.toUriEncodedString());le(jm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ys(g);return this.zo(e,m,p,s,E).then((T=>(le(jm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw So(jm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=oO[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class uO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Yl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Eo extends lO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Eo.c_){const e=Sb();Yl(e,bb.STAT_EVENT,(n=>{n.stat===ip.PROXY?le(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===ip.NOPROXY&&le(Jt,"STAT_EVENT: detected no buffering proxy")})),Eo.c_=!0}}zo(e,n,s,o,u){const h=gp();return new Promise(((m,p)=>{const g=new Eb;g.setWithCredentials(!0),g.listenOnce(Tb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const T=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Rh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const A=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const K=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN})(F.status);p(new oe(K,F.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=gp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const M=new uO({Ho:F=>{A?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Jo:()=>E.close()});return Yl(E,Wl.EventType.OPEN,(()=>{A||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),M.i_())})),Yl(E,Wl.EventType.CLOSE,(()=>{A||(A=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),M.o_(),this.E_(E))})),Yl(E,Wl.EventType.ERROR,(F=>{A||(A=!0,So(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),M.o_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),Yl(E,Wl.EventType.MESSAGE,(F=>{if(!A){const K=F.data[0];Fe(!!K,16349);const H=K,ne=H?.error||H[0]?.error;if(ne){le(Jt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let ie=(function(ve){const C=Dt[ve];if(C!==void 0)return rS(C)})(te),fe=ne.message;ie===void 0&&(ie=Z.INTERNAL,fe="Unknown error status: "+te+" with message "+ne.message),A=!0,M.o_(new oe(ie,fe)),E.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,K),M.__(K)}})),Eo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ab()}}function cO(r){return new Eo(r)}function Bm(){return typeof document<"u"?document:null}function _f(r){return new mx(r,!0)}Eo.c_=!1;class vS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const R0="PersistentStream";class ES{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hO extends ES{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Pi(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=lp(p)?{documents:Ex(u,p)}:{query:Tx(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=oS(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Yh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Sx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.K_(n)}}class fO extends ES{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vx(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>_x(this.serializer,s)))};this.K_(n)}}class dO{}class mO extends dO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,fp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,fp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pO(r,e,n,s){return new mO(r,e,n,s)}class gO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class yO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ya(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await xu(g),g.Va.set("Unknown"),g.Ea.delete(4),await vf(g)})(this))}))})),this.Va=new gO(s,o)}}async function vf(r){if(ya(r))for(const e of r.Ra)await e(!0)}async function xu(r){for(const e of r.Ra)await e(!1)}function TS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hg(n)?cg(n):Lo(n).O_()&&ug(n,e))}function lg(r,e){const n=Ae(r),s=Lo(n);n.Ia.delete(e),s.O_()&&bS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Va.set("Unknown"))}function ug(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).Z_(e)}function bS(r,e){r.da.$e(e),Lo(r).X_(e)}function cg(r){r.da=new cx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Va.ua()}function hg(r){return ya(r)&&!Lo(r).x_()&&r.Ia.size>0}function ya(r){return Ae(r).Ea.size===0}function SS(r){r.da=void 0}async function _O(r){r.Va.set("Online")}async function vO(r){r.Ia.forEach(((e,n)=>{ug(r,e)}))}async function EO(r,e){SS(r),hg(r)?(r.Va.ha(e),cg(r)):r.Va.set("Unknown")}async function TO(r,e,n){if(r.Va.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $h(r,s)}else if(e instanceof Nh?r.da.Xe(e):e instanceof sS?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await _S(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),bS(u,p);const T=new ns(E.target,p,g,E.sequenceNumber);ug(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ca,"Failed to raise snapshot:",s),await $h(r,s)}}async function $h(r,e,n){if(!Po(e))throw e;r.Ea.add(1),await xu(r),r.Va.set("Offline"),n||(n=()=>_S(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await vf(r)}))}function AS(r,e){return e().catch((n=>$h(r,n,e)))}async function Ef(r){const e=Ae(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yp;for(;bO(e);)try{const o=await nO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,SO(e,o)}catch(o){await $h(e,o)}wS(e)&&RS(e)}function bO(r){return ya(r)&&r.Ta.length<10}function SO(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function wS(r){return ya(r)&&!ms(r).x_()&&r.Ta.length>0}function RS(r){ms(r).start()}async function AO(r){ms(r).ra()}async function wO(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function RO(r,e,n){const s=r.Ta.shift(),o=tg.from(s,e,n);await AS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ef(r)}async function CO(r,e){e&&ms(r).Y_&&await(async function(s,o){if((function(h){return ox(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await AS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ef(s)}})(r,e),wS(r)&&RS(r)}async function C0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await xu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function IO(r,e){const n=Ae(r);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await xu(n),n.Va.set("Unknown"))}function Lo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new hO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:_O.bind(null,r),Yo:vO.bind(null,r),t_:EO.bind(null,r),J_:TO.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),hg(r)?cg(r):r.Va.set("Unknown")):(await r.ma.stop(),SS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new fO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AO.bind(null,r),t_:CO.bind(null,r),ta:wO.bind(null,r),na:RO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ef(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class fg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new fg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(mr("AsyncQueue",`${e}: ${r}`),Po(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class I0{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Io{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Io(e,n,To.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class DO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NO{constructor(){this.queries=D0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=D0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function D0(){return new pa((r=>Kb(r)),df)}async function xO(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new DO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=dg(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&mg(n)}async function OO(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&mg(n)}function MO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function mg(r){r.Ca.forEach((e=>{e.next()}))}var yp,N0;(N0=yp||(yp={})).Ma="default",N0.Cache="cache";class VO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class CS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class PO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=Yb(e),this.tu=new To(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new I0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),M=mf(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;A&&M?A.data.isEqual(M.data)?F!==K&&(s.track({type:3,doc:M}),H=!0):this.su(A,M)||(s.track({type:2,doc:M}),H=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),H=!0):A&&!M&&(s.track({type:1,doc:A}),H=!0,(p||g)&&(m=!0)),H&&(M?(h=h.add(M),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(M,F){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:H})}};return K(M)-K(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Io(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new IS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new CS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pg="SyncEngine";class UO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LO{constructor(e){this.key=e,this.hu=!1}}class zO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new pa((m=>Kb(m)),df),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(me.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=Co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jO(r,e,n=!0){const s=MS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await DS(s,e,n,!0),o}async function BO(r,e){const n=MS(r);await DS(n,e,!0,!1)}async function DS(r,e,n,s){const o=await iO(r.localStore,Vi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await qO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&TS(r.remoteStore,o),m}async function qO(r,e,n,s,o){r.pu=(T,A,M)=>(async function(K,H,ne,te){let ie=H.view.ru(ne);ie.Ss&&(ie=await b0(K.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,ie))));const fe=te&&te.targetChanges.get(H.targetId),Te=te&&te.targetMismatches.get(H.targetId)!=null,ve=H.view.applyChanges(ie,K.isPrimaryClient,fe,Te);return O0(K,H.targetId,ve.au),ve.snapshot})(r,T,A,M);const u=await b0(r.localStore,e,!0),h=new PO(e,u.ks),m=h.ru(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);O0(r,n,g.au);const E=new UO(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function HO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!df(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&lg(s.remoteStore,o.targetId),_p(s,o.targetId)})).catch(Vo)):(_p(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function FO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function GO(r,e,n){const s=JO(r);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((M,F)=>M.add(F.key)),Ve());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=pr(),K=Ve();return p.xs.getEntries(M,E).next((H=>{F=H,F.forEach(((ne,te)=>{te.isValidDocument()||(K=K.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((H=>{T=H;const ne=[];for(const te of m){const ie=nx(te,T.get(te.key).overlayedDocument);ie!=null&&ne.push(new ga(te.key,ie,Lb(ie.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,ne,m)})).next((H=>{A=H;const ne=H.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(M,H.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:$b(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ct(Me)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await Ef(s.remoteStore)}catch(o){const u=dg(o,"Failed to persist write");n.reject(u)}}async function NS(r,e){const n=Ae(r);try{const s=await eO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Ou(n,s,e)}catch(s){await Vo(s)}}function x0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&mg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,en.newNoDocument(u,be.min()));const m=Ve().add(u),p=new yf(be.min(),new Map,new ct(Me),h,m);await NS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),gg(s)}else await pp(s.localStore,e,!1).then((()=>_p(s,e,n))).catch(Vo)}async function YO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await Zx(n.localStore,e);OS(n,s,null),xS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Vo(o)}}async function QO(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);OS(s,e,n),xS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Vo(o)}}function xS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function OS(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function _p(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||kS(r,s)}))}function kS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(lg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),gg(r))}function O0(r,e,n){for(const s of n)s instanceof CS?(r.Vu.addReference(s.key,e),$O(r,s)):s instanceof IS?(le(pg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||kS(r,s.key)):_e(19791,{wu:s})}function $O(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(pg,"New document in limbo: "+n),r.Eu.add(s),gg(r))}function gg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new LO(n)),r.Ru=r.Ru.insert(n,s),TS(r.remoteStore,new ns(Vi(Jp(n.path)),s,"TargetPurposeLimboResolution",cf.ce))}}async function Ou(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=ag.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(A=>ee.forEach(A.Ts,(M=>E.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>ee.forEach(A.Is,(M=>E.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!Po(T))throw T;le(og,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const M=E.vs.get(A),F=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(F);E.vs=E.vs.insert(A,K)}}})(s.localStore,u))}async function XO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(pg,"User change. New user:",e.toKey());const s=await yS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ns)}}function WO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function MS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KO.bind(null,e),e.Pu.J_=kO.bind(null,e.eventManager),e.Pu.yu=MO.bind(null,e.eventManager),e}function JO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QO.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Jx(this.persistence,new $x,e.initialUser,this.serializer)}Cu(e){return new gS(sg.Vi,this.serializer)}Du(e){return new sO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class ZO extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Mx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new gS((s=>Qh.Vi(s,n)),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await IO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NO})()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),s=cO(e.databaseInfo);return pO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new yO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>x0(this.syncEngine,n,0)),(function(){return w0.v()?new w0:new aO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new zO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(ca,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vp.provider={build:()=>new vp};class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class t4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function k0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await n4(r);le(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>C0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>C0(e.remoteStore,o))),r._onlineComponents=e}async function n4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ps,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await qm(r,new Xh)}}else le(ps,"Using default OfflineComponentProvider"),await qm(r,new ZO(void 0));return r._offlineComponents}async function VS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ps,"Using user provided OnlineComponentProvider"),await k0(r,r._uninitializedComponentsProvider._online)):(le(ps,"Using default OnlineComponentProvider"),await k0(r,new vp))),r._onlineComponents}function i4(r){return VS(r).then((e=>e.syncEngine))}async function M0(r){const e=await VS(r),n=e.eventManager;return n.onListen=jO.bind(null,e.syncEngine),n.onUnlisten=HO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),n}function r4(r,e,n,s){const o=new e4(s),u=new VO(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>xO(await M0(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>OO(await M0(r),u)))}}function s4(r,e){const n=new ta;return r.asyncQueue.enqueueAndForget((async()=>GO(await i4(r),e,n))),n.promise}function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const a4="ComponentProvider",V0=new Map;function o4(r,e,n,s,o){return new AN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,PS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const US="firestore.googleapis.com",P0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=P0}else this.host=e.host,this.ssl=e.ssl??P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ox)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iN;switch(s.type){case"firstParty":return new oN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=V0.get(n);s&&(le(a4,"Removing Datastore"),V0.delete(n),s.terminate())})(this),Promise.resolve()}}function l4(r,e,n,s={}){r=as(r,Tf);const o=ys(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Op(`https://${m}`),kp("Firestore",!0)),u.host!==US&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=kT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new rN(new Rb(g,E))}}class _a{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Iu(n,Ot._jsonSchema))return new Ot(e,s||null,new me(et.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:xt("string",Ot._jsonSchemaVersion),referencePath:xt("string")};class os extends _a{constructor(e,n,s){super(e,n,Jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function Ep(r,e,...n){if(r=vt(r),Cb("collection","path",e),r instanceof Tf){const s=et.fromString(e,...n);return $E(s),new os(r,null,s)}{if(!(r instanceof Ot||r instanceof os))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return $E(s),new os(r.firestore,null,s)}}function Do(r,e,...n){if(r=vt(r),arguments.length===1&&(e=Kp.newId()),Cb("doc","path",e),r instanceof Tf){const s=et.fromString(e,...n);return QE(s),new Ot(r,null,new me(s))}{if(!(r instanceof Ot||r instanceof os))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return QE(s),new Ot(r.firestore,r instanceof os?r.converter:null,new me(s))}}const L0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vS(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&le(L0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(L0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",j0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=fg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:j0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class No extends Tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function u4(r,e){const n=typeof r=="object"?r:Pp(),s=typeof r=="string"?r:qh,o=sf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=NT("firestore");u&&l4(o,...u)}return o}function LS(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||c4(r),r._firestoreClient}function c4(r){const e=r._freezeSettings(),n=o4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new t4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:xt("string",qn._jsonSchemaVersion),bytes:xt("string")};class zS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jS{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:xt("string",Ui._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:xt("string",si._jsonSchemaVersion),vectorValues:xt("object")};const h4=/^__.*__$/;class f4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}function BS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class yg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Wh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BS(this.dataSource)&&h4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class d4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_f(e)}createContext(e,n,s,o=!1){return new yg({dataSource:e,methodName:n,targetDoc:s,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(r){const e=r._freezeSettings(),n=_f(r._databaseId);return new d4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qS(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);GS("Data must be an object, but it was:",h,s);const m=HS(s,h);let p,g;if(u.merge)p=new ii(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=bf(e,T,n);if(!h.contains(A))throw new oe(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);y4(E,A)||E.push(A)}p=new ii(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new f4(new Bn(m),p,g)}function m4(r,e,n,s=!1){return vg(n,r.createContext(s?4:3,e))}function vg(r,e){if(FS(r=vt(r)))return GS("Unsupported field value:",e,r),HS(r,e);if(r instanceof jS)return(function(s,o){if(!BS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=vg(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:oS(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof si)return(function(h,m){const p=h instanceof si?h.toArray():h;return{mapValue:{fields:{[Pb]:{stringValue:Ub},[Hh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Zp(m.serializer,E)}))}}}}}})(s,o);if(mS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${uf(s)}`)})(r,e)}function HS(r,e){const n={};return Nb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(r,((s,o)=>{const u=vg(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function FS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ui||r instanceof qn||r instanceof Ot||r instanceof jS||r instanceof si||mS(r))}function GS(r,e,n){if(!FS(n)||!Ib(n)){const s=uf(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function bf(r,e,n){if((e=vt(e))instanceof zS)return e._internalPath;if(typeof e=="string")return g4(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const p4=new RegExp("[~\\*/\\[\\]]");function g4(r,e,n){if(e.search(p4)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zS(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,m+r+p)}function y4(r,e){return r.some((n=>n.isEqual(e)))}class _4{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ma(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Hh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new si(n)}convertGeoPoint(e){return new Ui(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=hs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(dS(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class KS extends _4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}const B0="@firebase/firestore",q0="4.10.0";function H0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class YS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v4 extends YS{data(){return super.data()}}function E4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class QS extends Eg{}function T4(r,e,...n){let s=[];e instanceof Eg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof bg)).length,m=u.filter((p=>p instanceof Tg)).length;if(h>1||h>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tg extends QS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tg(e,n,s)}_apply(e){const n=this._parse(e);return $S(e._query,n),new _a(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=_g(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){G0(T,E);const F=[];for(const K of T)F.push(F0(p,u,K));A={arrayValue:{values:F}}}else A=F0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||G0(T,E),A=m4(m,h,T,E==="in"||E==="not-in");return Nt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)$S(h,p),h=up(h,p)})(e._query,n),new _a(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends QS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)})(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,qN(e._query,n))}}function b4(r,e="asc"){const n=e,s=bf("orderBy",r);return Sg._create(s,n)}function F0(r,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gb(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return i0(r,new me(s))}if(n instanceof Ot)return i0(r,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function G0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $S(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends YS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:xt("string",na._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class xh extends na{data(e={}){return super.data(e)}}class bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:S4(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:xt("string",bo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function A4(r,e,n){r=as(r,Ot);const s=as(r.firestore,No),o=XS(r.converter,e,n),u=_g(s);return Ag(s,[qS(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ri.none())])}function Tp(r){return Ag(as(r.firestore,No),[new eg(r._key,ri.none())])}function WS(r,e){const n=as(r.firestore,No),s=Do(r),o=XS(r.converter,e),u=_g(r.firestore);return Ag(n,[qS(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function JS(r,...e){r=vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||H0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(H0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof Ot)h=as(r.firestore,No),m=Jp(r._key.path),u={next:g=>{e[s]&&e[s](w4(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=as(r,_a);h=as(g.firestore,No),m=g._query;const E=new KS(h);u={next:T=>{e[s]&&e[s](new bo(h,E,g,T))},error:e[s+1],complete:e[s+2]},E4(r._query)}const p=LS(h);return r4(p,m,o,u)}function Ag(r,e){const n=LS(r);return s4(n,e)}function w4(r,e,n){const s=n.docs.get(e._key),o=new KS(r);return new na(r,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){nN(fa),aa(new us("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new No(new sN(s.getProvider("auth-internal")),new lN(h,s.getProvider("app-check-internal")),wN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Oi(B0,q0,e),Oi(B0,q0,"esm2020")})();const ZS="firebasestorage.googleapis.com",e1="storageBucket",R4=120*1e3,C4=600*1e3,I4=1e3;class ht extends ji{constructor(e,n,s=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Hm(r){return"storage/"+r}function wg(){const r="An unknown error occurred, please check the error payload for server response.";return new ht(rt.UNKNOWN,r)}function D4(r){return new ht(rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function N4(r){return new ht(rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x4(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(rt.UNAUTHENTICATED,r)}function O4(){return new ht(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k4(r){return new ht(rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function t1(){return new ht(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n1(){return new ht(rt.CANCELED,"User canceled the upload/download.")}function M4(r){return new ht(rt.INVALID_URL,"Invalid URL '"+r+"'.")}function V4(r){return new ht(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function P4(){return new ht(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e1+"' property when initializing the app?")}function i1(){return new ht(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function U4(){return new ht(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function L4(){return new ht(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function z4(r){return new ht(rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bp(r){return new ht(rt.INVALID_ARGUMENT,r)}function r1(){return new ht(rt.APP_DELETED,"The Firebase app was deleted.")}function j4(r){return new ht(rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(r,e){return new ht(rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ql(r){throw new ht(rt.INTERNAL_ERROR,"Internal error: "+r)}class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(s.path==="")return s;throw V4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},K=n===ZS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",ne=new RegExp(`^https?://${K}/${o}/${H}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:M,indices:F,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ie.length;fe++){const Te=ie[fe],ve=Te.regex.exec(e);if(ve){const C=ve[Te.indices.bucket];let w=ve[Te.indices.path];w||(w=""),s=new Rn(C,w),Te.postModify(s);break}}if(s==null)throw M4(e);return s}}class B4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function q4(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...H){g||(g=!0,e.apply(null,H))}function T(H){o=setTimeout(()=>{o=null,r(M,p())},H)}function A(){u&&clearTimeout(u)}function M(H,...ne){if(g){A();return}if(H){A(),E.call(null,H,...ne);return}if(p()||h){A(),E.call(null,H,...ne);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let F=!1;function K(H){F||(F=!0,A(),!g&&(o!==null?(H||(m=2),clearTimeout(o),T(0)):H||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,K(!0)},n),K}function H4(r){r(!1)}function F4(r){return r!==void 0}function G4(r){return typeof r=="function"}function K4(r){return typeof r=="object"&&!Array.isArray(r)}function Sf(r){return typeof r=="string"||r instanceof String}function K0(r){return Rg()&&r instanceof Blob}function Rg(){return typeof Blob<"u"}function Y0(r,e,n,s){if(s<e)throw bp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw bp(`Invalid value for '${r}'. Expected ${n} or less.`)}function zo(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function s1(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ia;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ia||(ia={}));function a1(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class Y4{constructor(e,n,s,o,u,h,m,p,g,E,T,A=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,K)=>{this.resolve_=F,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ia.NO_ERROR,p=u.getStatus();if(!m||a1(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ia.ABORT;s(!1,new yh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new yh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());F4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=wg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?r1():n1();h(p)}else{const p=t1();h(p)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=q4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Q4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function $4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function X4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function W4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function J4(r,e,n,s,o,u,h=!0,m=!1){const p=s1(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return X4(E,e),Q4(E,n),$4(E,u),W4(E,s),new Y4(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function Z4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ek(...r){const e=Z4();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Rg())return new Blob(r);throw new ht(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tk(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function nk(r){if(typeof atob>"u")throw z4("base-64");return atob(r)}const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,n){this.data=e,this.contentType=n||null}}function ik(r,e){switch(r){case xi.RAW:return new Fm(o1(e));case xi.BASE64:case xi.BASE64URL:return new Fm(l1(r,e));case xi.DATA_URL:return new Fm(sk(e),ak(e))}throw wg()}function o1(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function rk(r){let e;try{e=decodeURIComponent(r)}catch{throw ou(xi.DATA_URL,"Malformed data URL.")}return o1(e)}function l1(r,e){switch(r){case xi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nk(e)}catch(o){throw o.message.includes("polyfill")?o:ou(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class u1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ok(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function sk(r){const e=new u1(r);return e.base64?l1(xi.BASE64,e.rest):rk(e.rest)}function ak(r){return new u1(r).contentType}function ok(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class ts{constructor(e,n){let s=0,o="";K0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(K0(this.data_)){const s=this.data_,o=tk(s,e,n);return o===null?null:new ts(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ts(s,!0)}}static getBlob(...e){if(Rg()){const n=e.map(s=>s instanceof ts?s.data_:s);return new ts(ek.apply(null,n))}else{const n=e.map(h=>Sf(h)?ik(xi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ts(o,!0)}}uploadData(){return this.data_}}function c1(r){let e;try{e=JSON.parse(r)}catch{return null}return K4(e)?e:null}function lk(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function uk(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function h1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function ck(r,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||ck}}let _h=null;function hk(r){return!Sf(r)||r.length<2?r:h1(r)}function f1(){if(_h)return _h;const r=[];r.push(new an("bucket")),r.push(new an("generation")),r.push(new an("metageneration")),r.push(new an("name","fullPath",!0));function e(u,h){return hk(h)}const n=new an("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new an("size");return o.xform=s,r.push(o),r.push(new an("timeCreated")),r.push(new an("updated")),r.push(new an("md5Hash",null,!0)),r.push(new an("cacheControl",null,!0)),r.push(new an("contentDisposition",null,!0)),r.push(new an("contentEncoding",null,!0)),r.push(new an("contentLanguage",null,!0)),r.push(new an("contentType",null,!0)),r.push(new an("metadata","customMetadata",!0)),_h=r,_h}function fk(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Rn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function dk(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return fk(s,r),s}function d1(r,e,n){const s=c1(e);return s===null?null:dk(r,s,n)}function mk(r,e,n,s){const o=c1(e);if(o===null||!Sf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,T=r.fullPath,A="/b/"+h(E)+"/o/"+h(T),M=zo(A,n,s),F=s1({alt:"media",token:g});return M+F})[0]}function m1(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class va{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cr(r){if(!r)throw wg()}function Cg(r,e){function n(s,o){const u=d1(r,o,e);return cr(u!==null),u}return n}function pk(r,e){function n(s,o){const u=d1(r,o,e);return cr(u!==null),mk(u,o,r.host,r._protocol)}return n}function ku(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=O4():o=x4():n.getStatus()===402?o=N4(r.bucket):n.getStatus()===403?o=k4(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Ig(r){const e=ku(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=D4(r.path)),u.serverResponse=o.serverResponse,u}return n}function gk(r,e,n){const s=e.fullServerUrl(),o=zo(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new va(o,u,Cg(r,n),h);return m.errorHandler=Ig(e),m}function yk(r,e,n){const s=e.fullServerUrl(),o=zo(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new va(o,u,pk(r,n),h);return m.errorHandler=Ig(e),m}function _k(r,e){const n=e.fullServerUrl(),s=zo(n,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function h(p,g){}const m=new va(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Ig(e),m}function vk(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function p1(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=vk(null,e)),s}function Ek(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let fe=0;fe<2;fe++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=p1(e,s,o),E=m1(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=ts.getBlob(T,s,A);if(M===null)throw i1();const F={name:g.fullPath},K=zo(u,r.host,r._protocol),H="POST",ne=r.maxUploadRetryTime,te=new va(K,H,Cg(r,n),ne);return te.urlParams=F,te.headers=h,te.body=M.uploadData(),te.errorHandler=ku(e),te}class Jh{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Dg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{cr(!1)}return cr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Tk(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=p1(e,s,o),m={name:h.fullPath},p=zo(u,r.host,r._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=m1(h,n),A=r.maxUploadRetryTime;function M(K){Dg(K);let H;try{H=K.getResponseHeader("X-Goog-Upload-URL")}catch{cr(!1)}return cr(Sf(H)),H}const F=new va(p,g,M,A);return F.urlParams=m,F.headers=E,F.body=T,F.errorHandler=ku(e),F}function bk(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Dg(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cr(!1)}T||cr(!1);const A=Number(T);return cr(!isNaN(A)),new Jh(A,s.size(),E==="final")}const h="POST",m=r.maxUploadRetryTime,p=new va(n,h,u,m);return p.headers=o,p.errorHandler=ku(e),p}const Q0=256*1024;function Sk(r,e,n,s,o,u,h,m){const p=new Jh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw U4();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const T=p.current,A=T+E;let M="";E===0?M="finalize":g===E?M="upload, finalize":M="upload";const F={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},K=s.slice(T,A);if(K===null)throw i1();function H(fe,Te){const ve=Dg(fe,["active","final"]),C=p.current+E,w=s.size();let R;return ve==="final"?R=Cg(e,u)(fe,Te):R=null,new Jh(C,w,ve==="final",R)}const ne="POST",te=e.maxUploadRetryTime,ie=new va(n,ne,H,te);return ie.headers=F,ie.body=K.uploadData(),ie.progressCallback=m||null,ie.errorHandler=ku(r),ie}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gm(r){switch(r){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}class Ak{constructor(e,n,s){if(G4(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function co(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class wk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Ql("cannot .send() more than once");if(ys(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Rk extends wk{initXhr(){this.xhr_.responseType="text"}}function Zs(){return new Rk}class Ck{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=f1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(a1(o.status,[]))if(u)o=t1();else{this.sleepTime=Math.max(this.sleepTime*2,I4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=Tk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Zs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=bk(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,Zs,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Q0*this._chunkMultiplier,n=new Jh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=Sk(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,Zs,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Q0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=gk(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,Zs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=Ek(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Zs,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=n1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Gm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new Ak(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Gm(this._state)){case pn.SUCCESS:co(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;co(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Gm(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&co(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&co(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&co(e.error.bind(e,this._error))();break;default:e.error&&co(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ha{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ha(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h1(this._location.path)}get storage(){return this._service}get parent(){const e=lk(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new ha(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw j4(e)}}function Ik(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new Ck(r,new ts(e),n)}function Dk(r){r._throwIfRoot("getDownloadURL");const e=yk(r.storage,r._location,f1());return r.storage.makeRequestWithTokens(e,Zs).then(n=>{if(n===null)throw L4();return n})}function Nk(r){r._throwIfRoot("deleteObject");const e=_k(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Zs)}function xk(r,e){const n=uk(r._location.path,e),s=new Rn(r._location.bucket,n);return new ha(r.storage,s)}function Ok(r){return/^[A-Za-z]+:\/\//.test(r)}function kk(r,e){return new ha(r,e)}function g1(r,e){if(r instanceof Ng){const n=r;if(n._bucket==null)throw P4();const s=new ha(n,n._bucket);return e!=null?g1(s,e):s}else return e!==void 0?xk(r,e):r}function Mk(r,e){if(e&&Ok(e)){if(r instanceof Ng)return kk(r,e);throw bp("To use ref(service, url), the first argument must be a Storage instance.")}else return g1(r,e)}function $0(r,e){const n=e?.[e1];return n==null?null:Rn.makeFromBucketSpec(n,r)}function Vk(r,e,n,s={}){r.host=`${e}:${n}`;const o=ys(e);o&&(Op(`https://${r.host}/b`),kp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:kT(u,r.app.options.projectId))}class Ng{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ZS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R4,this._maxUploadRetryTime=C4,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=$0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=$0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new B4(r1());{const h=J4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const X0="@firebase/storage",W0="0.14.0";const y1="storage";function Pk(r,e,n){return r=vt(r),Ik(r,e,n)}function Uk(r){return r=vt(r),Dk(r)}function Lk(r){return r=vt(r),Nk(r)}function J0(r,e){return r=vt(r),Mk(r,e)}function zk(r=Pp(),e){r=vt(r);const s=sf(r,y1).getImmediate({identifier:e}),o=NT("storage");return o&&jk(s,...o),s}function jk(r,e,n,s={}){Vk(r,e,n,s)}function Bk(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Ng(n,s,o,e,fa)}function qk(){aa(new us(y1,Bk,"PUBLIC").setMultipleInstances(!0)),Oi(X0,W0,""),Oi(X0,W0,"esm2020")}qk();const Hk={apiKey:"AIzaSyCU4b7reiVNHjqvuEM7cXSLGilCmZ5YYlM",authDomain:"moppedtagebuch.firebaseapp.com",projectId:"moppedtagebuch",storageBucket:"moppedtagebuch.firebasestorage.app",messagingSenderId:"456539319107",appId:"1:456539319107:web:1a32f14396c920a4c39df6"},xg=PT(Hk),vh=eN(xg),ls=u4(xg),Z0=zk(xg),_1=B.createContext();function Mu(){return B.useContext(_1)}function Fk({children:r}){const[e,n]=B.useState(null),[s,o]=B.useState(!0);function u(g,E){return L2(vh,g,E)}function h(g,E){return z2(vh,g,E)}function m(){return H2(vh)}B.useEffect(()=>q2(vh,E=>{n(E),o(!1)}),[]);const p={currentUser:e,login:h,signup:u,logout:m};return s?N.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#121212",color:"var(--kawasaki-green)"},children:[N.jsx("div",{className:"shake",style:{marginBottom:"1rem"},children:N.jsx(Np,{size:48})}),N.jsx("p",{children:"Lade Moppedtagebuch..."})]}):N.jsx(_1.Provider,{value:p,children:r})}function ra(r){const[e,n]=B.useState([]),{currentUser:s}=Mu(),[o,u]=B.useState(!0);return B.useEffect(()=>{if(!s){u(!1);return}const p=T4(Ep(ls,`users/${s.uid}/${r}`),b4("date","desc"));return JS(p,E=>{const T=[];E.forEach(A=>{T.push({...A.data(),id:A.id})}),n(T),u(!1)})},[s,r]),{data:e,add:async p=>{s&&await WS(Ep(ls,`users/${s.uid}/${r}`),p)},remove:async p=>{s&&await Tp(Do(ls,`users/${s.uid}/${r}`,p))},loading:o}}function v1(r){const[e,n]=B.useState(null),{currentUser:s}=Mu(),[o,u]=B.useState(!0);return B.useEffect(()=>{if(!s){u(!1);return}return JS(Do(ls,`users/${s.uid}/data`,r),p=>{p.exists()?n(p.data()):n(null),u(!1)})},[s,r]),{data:e,update:async m=>{s&&await A4(Do(ls,`users/${s.uid}/data`,r),m,{merge:!0})},loading:o}}const Gk=()=>{const r=wp(),{data:e}=v1("technical_data"),{data:n}=ra("finance"),{data:s}=ra("service"),{data:o}=ra("accessories"),u=e?.currentKm||"---",h=e?.nextServiceDue||"---",m=n?.reduce((M,F)=>M+parseFloat(F.amount||0),0)||0,p=s?.reduce((M,F)=>M+parseFloat(F.cost||0),0)||0,g=o?.reduce((M,F)=>M+parseFloat(F.price||0),0)||0,E=m+p+g,T=[...(n||[]).map(M=>M.date),...(s||[]).map(M=>M.date),...(o||[]).map(M=>M.date)].filter(Boolean).sort().reverse();T[0]&&new Date(T[0]).toLocaleDateString();const A=[{title:"Technik",icon:N.jsx(xp,{size:32}),path:"/tech",color:"rgba(59, 130, 246, 0.2)"},{title:"Finanzen",icon:N.jsx(bT,{size:32}),path:"/finance",color:"rgba(16, 185, 129, 0.2)"},{title:"Service",icon:N.jsx(wT,{size:32}),path:"/service",color:"rgba(245, 158, 11, 0.2)"},{title:"Zubehr",icon:N.jsx(AT,{size:32}),path:"/accessories",color:"rgba(239, 68, 68, 0.2)"}];return N.jsxs("div",{className:"dashboard fade-in",children:[N.jsxs("div",{className:"hero-section",style:{marginTop:"1rem",marginBottom:"2rem",textAlign:"center",padding:"2rem",background:"linear-gradient(135deg, rgba(105, 190, 40, 0.1), rgba(0, 0, 0, 0))",borderRadius:"24px",border:"1px solid rgba(105, 190, 40, 0.3)"},children:[N.jsx("h2",{style:{fontSize:"2rem",margin:"0 0 0.5rem 0",color:"var(--text-primary)"},children:"Versys 1000 SE"}),N.jsx("span",{style:{background:"var(--kawasaki-green)",color:"#000",padding:"4px 12px",borderRadius:"12px",fontWeight:"bold",fontSize:"0.9rem"},children:e?.licensePlate||"M-N 594"}),N.jsxs("div",{className:"quick-stats",style:{display:"flex",justifyContent:"space-around",marginTop:"2rem",flexWrap:"wrap",gap:"1rem"},children:[N.jsxs("div",{className:"stat-item",children:[N.jsx("span",{style:{display:"block",fontSize:"1.5rem",fontWeight:"bold"},children:u}),N.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"KM Stand"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("span",{style:{display:"block",fontSize:"1.5rem",fontWeight:"bold"},children:h}),N.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Nchster Service"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsxs("span",{style:{display:"block",fontSize:"1.5rem",fontWeight:"bold"},children:[" ",E.toFixed(0)]}),N.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Gesamtkosten"})]})]})]}),N.jsx("h3",{className:"section-title",children:"Bereiche"}),N.jsx("div",{className:"card-grid",children:A.map(M=>N.jsxs("div",{className:"glass-panel",onClick:()=>r(M.path),style:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",aspectRatio:"1/1",gap:"1rem",transition:"transform 0.2s, background 0.2s",background:`linear-gradient(135deg, ${M.color}, rgba(30,30,30,0.4))`},onMouseEnter:F=>F.currentTarget.style.transform="scale(1.02)",onMouseLeave:F=>F.currentTarget.style.transform="scale(1)",children:[N.jsx("div",{style:{padding:"12px",background:"rgba(255,255,255,0.1)",borderRadius:"50%"},children:M.icon}),N.jsx("span",{style:{fontWeight:"600"},children:M.title})]},M.title))})]})},Kk=()=>{const{data:r,update:e,loading:n}=v1("technical_data"),[s,o]=B.useState({manufacturer:"Kawasaki",model:"Versys 1000 SE",year:"2021",licensePlate:"M-N 594",currentKm:"12450",nextServiceDue:"15000",vin:"",engine:"1043 ccm Inline-4",power:"120 PS (88 kW)",torque:"102 Nm @ 7500 rpm",weight:"257 kg",fuelCapacity:"21 L",tiresFront:"120/70 ZR17",tiresRear:"180/55 ZR17",battery:"YTZ10S"}),[u,h]=B.useState(!1);B.useEffect(()=>{r&&o(r)},[r]);const m=g=>{const{name:E,value:T}=g.target;o(A=>({...A,[E]:T}))},p=async()=>{await e(s),h(!1)};return n?N.jsx("div",{className:"loading",children:"Laden..."}):N.jsxs("div",{className:"section-container fade-in",children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{className:"section-title",children:"Technische Daten"}),N.jsxs("button",{onClick:()=>u?p():h(!0),style:{background:"none",color:u?"var(--kawasaki-green)":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[u?N.jsx(JR,{size:20}):N.jsx(xp,{size:20}),u?"Speichern":"Bearbeiten"]})]}),N.jsx("div",{className:"glass-panel",style:{padding:"1rem"},children:Object.entries(s).map(([g,E])=>N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid var(--border-color)"},children:[N.jsx("span",{style:{color:"var(--text-secondary)",textTransform:"capitalize",width:"40%"},children:g.replace(/([A-Z])/g," $1").trim()}),u?N.jsx("input",{type:"text",name:g,value:E,onChange:m,style:{background:"transparent",border:"none",borderBottom:"1px solid var(--kawasaki-green)",color:"white",textAlign:"right",width:"55%",fontSize:"1rem",outline:"none"}}):N.jsx("span",{style:{fontWeight:"500",width:"55%",textAlign:"right"},children:E||"-"})]},g))})]})},Yk=()=>{const{data:r,add:e,remove:n,loading:s}=ra("finance"),[o,u]=B.useState({date:"",desc:"",amount:"",cat:"Fuel"}),[h,m]=B.useState(!1),p=async T=>{T.preventDefault(),!(!o.amount||!o.desc)&&(await e(o),u({date:"",desc:"",amount:"",cat:"Fuel"}),m(!1))},g=async T=>{confirm("Eintrag lschen?")&&await n(T)},E=r?r.reduce((T,A)=>T+parseFloat(A.amount||0),0):0;return s?N.jsx("div",{className:"loading",children:"Laden..."}):N.jsxs("div",{className:"section-container fade-in",children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{className:"section-title",children:"Finanzen"}),N.jsx("div",{style:{background:"rgba(105, 190, 40, 0.2)",padding:"8px 16px",borderRadius:"12px"},children:N.jsxs("span",{style:{color:"var(--kawasaki-green)",fontWeight:"bold"},children:[" ",E.toFixed(2)]})})]}),N.jsxs("button",{className:"primary-btn",onClick:()=>m(!h),style:{marginBottom:"1.5rem"},children:[N.jsx(tf,{size:20})," Neuer Eintrag"]}),h&&N.jsxs("form",{onSubmit:p,className:"glass-panel fade-in",style:{marginBottom:"1.5rem"},children:[N.jsx("input",{type:"date",className:"input-field",value:o.date,onChange:T=>u({...o,date:T.target.value}),required:!0}),N.jsx("input",{type:"text",placeholder:"Beschreibung",className:"input-field",value:o.desc,onChange:T=>u({...o,desc:T.target.value}),required:!0}),N.jsxs("select",{className:"input-field",value:o.cat,onChange:T=>u({...o,cat:T.target.value}),children:[N.jsx("option",{value:"Fuel",children:"Tanken"}),N.jsx("option",{value:"Service",children:"Wartung"}),N.jsx("option",{value:"Insurance",children:"Versicherung"}),N.jsx("option",{value:"Tax",children:"Steuer"}),N.jsx("option",{value:"Parts",children:"Teile"}),N.jsx("option",{value:"Other",children:"Sonstiges"})]}),N.jsx("input",{type:"number",placeholder:"Betrag ()",className:"input-field",value:o.amount,onChange:T=>u({...o,amount:T.target.value}),step:"0.01",required:!0}),N.jsx("button",{type:"submit",className:"primary-btn",children:"Speichern"})]}),N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:r.length===0?N.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)"},children:"Keine Eintrge vorhanden."}):r.map(T=>N.jsxs("div",{className:"glass-panel",style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{children:[N.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:T.desc}),N.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[T.date,"  ",T.cat]})]}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N.jsxs("span",{style:{color:"var(--kawasaki-green)",fontWeight:"bold"},children:[" ",parseFloat(T.amount).toFixed(2)]}),N.jsx("button",{onClick:()=>g(T.id),style:{background:"none",color:"#ff4d4f"},children:N.jsx(nf,{size:16})})]})]},T.id))})]})},Qk=()=>{const{data:r,add:e,remove:n,loading:s}=ra("service"),[o,u]=B.useState(!1),[h,m]=B.useState({date:"",km:"",work:"",nextDue:"",cost:""}),p=async E=>{E.preventDefault(),!(!h.work||!h.date)&&(await e(h),m({date:"",km:"",work:"",nextDue:"",cost:""}),u(!1))},g=async E=>{confirm("Eintrag lschen?")&&await n(E)};return s?N.jsx("div",{className:"loading",children:"Laden..."}):N.jsxs("div",{className:"section-container fade-in",children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{className:"section-title",children:"Wartung & Service"}),N.jsx("button",{className:"primary-btn",style:{width:"auto",padding:"8px 16px"},onClick:()=>u(!o),children:N.jsx(tf,{size:18})})]}),o&&N.jsxs("form",{onSubmit:p,className:"glass-panel fade-in",style:{marginBottom:"1.5rem",display:"flex",flexDirection:"column",gap:"0.8rem"},children:[N.jsx("input",{type:"date",className:"input-field",value:h.date,onChange:E=>m({...h,date:E.target.value}),required:!0}),N.jsx("input",{type:"number",className:"input-field",placeholder:"KM Stand",value:h.km,onChange:E=>m({...h,km:E.target.value})}),N.jsx("textarea",{className:"input-field",placeholder:"Durchgefhrte Arbeiten",rows:3,value:h.work,onChange:E=>m({...h,work:E.target.value}),required:!0}),N.jsx("input",{type:"date",className:"input-field",placeholder:"Nchster Service",value:h.nextDue,onChange:E=>m({...h,nextDue:E.target.value})}),N.jsx("input",{type:"number",className:"input-field",placeholder:"Kosten ()",value:h.cost,onChange:E=>m({...h,cost:E.target.value})}),N.jsx("button",{type:"submit",className:"primary-btn",children:"Eintrag Hinzufgen"})]}),N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.length===0?N.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)"},children:"Keine Service-Eintrge."}):r.map(E=>N.jsxs("div",{className:"glass-panel",style:{position:"relative"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[N.jsxs("span",{style:{color:"var(--kawasaki-green)",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[N.jsx(HR,{size:14})," ",E.date]}),N.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:E.km?`${E.km} km`:""})]}),N.jsx("p",{style:{margin:"0 0 0.5rem 0",lineHeight:"1.4"},children:E.work}),E.nextDue&&N.jsxs("div",{style:{fontSize:"0.8rem",color:"orange",marginTop:"0.5rem"},children:["Nchster Check: ",E.nextDue]}),E.cost&&N.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-primary)",marginTop:"0.2rem",fontWeight:"bold"},children:["Kosten:  ",E.cost]}),N.jsx("button",{onClick:()=>g(E.id),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",color:"rgba(255, 255, 255, 0.3)"},children:N.jsx(nf,{size:16})})]},E.id))})]})},$k=()=>{const{data:r,add:e,remove:n,loading:s}=ra("accessories"),[o,u]=B.useState(!1),[h,m]=B.useState({name:"",brand:"",date:"",price:"",installed:!0}),p=async T=>{T.preventDefault(),!(!h.name||!h.price)&&(await e(h),m({name:"",brand:"",date:"",price:"",installed:!0}),u(!1))},g=async T=>{confirm("Zubehr entfernen?")&&await n(T)},E=r?r.reduce((T,A)=>T+parseFloat(A.price||0),0):0;return s?N.jsx("div",{className:"loading",children:"Laden..."}):N.jsxs("div",{className:"section-container fade-in",children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{className:"section-title",children:"Zubehr"}),N.jsx("div",{style:{background:"rgba(59, 130, 246, 0.2)",padding:"8px 16px",borderRadius:"12px"},children:N.jsxs("span",{style:{color:"#60a5fa",fontWeight:"bold"},children:[" ",E.toFixed(2)]})})]}),N.jsxs("button",{className:"primary-btn",onClick:()=>u(!o),style:{marginBottom:"1.5rem"},children:[N.jsx(tf,{size:20})," Neues Zubehr"]}),o&&N.jsxs("form",{onSubmit:p,className:"glass-panel fade-in",style:{marginBottom:"1.5rem"},children:[N.jsx("input",{type:"text",placeholder:"Teilebezeichnung",className:"input-field",value:h.name,onChange:T=>m({...h,name:T.target.value}),required:!0}),N.jsx("input",{type:"text",placeholder:"Marke / Hersteller",className:"input-field",value:h.brand,onChange:T=>m({...h,brand:T.target.value})}),N.jsx("input",{type:"date",className:"input-field",value:h.date,onChange:T=>m({...h,date:T.target.value})}),N.jsx("input",{type:"number",placeholder:"Kaufpreis ()",className:"input-field",value:h.price,onChange:T=>m({...h,price:T.target.value}),step:"0.01",required:!0}),N.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",cursor:"pointer"},children:[N.jsx("input",{type:"checkbox",checked:h.installed,onChange:T=>m({...h,installed:T.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--kawasaki-green)"}}),N.jsx("span",{children:"Bereits montiert"})]}),N.jsx("button",{type:"submit",className:"primary-btn",children:"Speichern"})]}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:[r.map(T=>N.jsxs("div",{className:"glass-panel",style:{padding:"1rem",position:"relative"},children:[N.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",lineHeight:"1.2"},children:T.name}),N.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.2rem"},children:T.brand}),N.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--kawasaki-green)",fontWeight:"bold"},children:[" ",parseFloat(T.price).toFixed(2)]}),T.date&&N.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:T.date}),N.jsx("button",{onClick:()=>g(T.id),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"none",color:"rgba(255, 255, 255, 0.3)"},children:N.jsx(nf,{size:16})})]},T.id)),r.length===0&&N.jsx("p",{style:{gridColumn:"1/-1",textAlign:"center",color:"var(--text-secondary)"},children:"Kein Zubehr eingetragen."})]})]})};function Xk(){const[r,e]=B.useState(0),[n,s]=B.useState(null),[o,u]=B.useState(!1),{currentUser:h}=Mu();return{uploadFile:async g=>{if(!h)return;s(null),u(!0),e(0);const E=`users/${h.uid}/gallery/${Date.now()}_${g.name}`,T=J0(Z0,E),A=Pk(T,g);return new Promise((M,F)=>{A.on("state_changed",K=>{const H=K.bytesTransferred/K.totalBytes*100;e(H)},K=>{s(K),u(!1),F(K)},async()=>{try{const K=await Uk(A.snapshot.ref);await WS(Ep(ls,`users/${h.uid}/photos`),{url:K,filePath:E,name:g.name,date:new Date().toISOString()}),u(!1),M(K)}catch(K){s(K),u(!1),F(K)}})})},deleteFile:async(g,E)=>{if(h)try{const T=J0(Z0,E);await Lk(T),await Tp(Do(ls,`users/${h.uid}/photos`,g))}catch(T){console.error("Error deleting file:",T),await Tp(Do(ls,`users/${h.uid}/photos`,g)),s(T)}},progress:r,error:n,isUploading:o}}const Wk=()=>{const{data:r,loading:e}=ra("photos"),{uploadFile:n,deleteFile:s,isUploading:o,progress:u}=Xk(),[h,m]=B.useState(null),p=async E=>{const T=E.target.files[0];if(T){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(T.type)){alert("Bitte nur Bilder hochladen (PNG, JPG, WEBP)");return}await n(T),E.target.value=null}},g=async(E,T,A)=>{E.stopPropagation(),window.confirm("Mchtest du dieses Foto wirklich lschen?")&&(await s(T,A),h?.id===T&&m(null))};return N.jsxs("div",{className:"content-container fade-in",children:[N.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{children:[N.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx(TT,{className:"icon-green"})," Galerie"]}),N.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Deine schnsten Momente"})]}),N.jsxs("label",{className:"btn-primary",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx(tf,{size:20}),N.jsx("span",{children:"Foto"}),N.jsx("input",{type:"file",onChange:p,style:{display:"none"},accept:"image/*"})]})]}),o&&N.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",padding:"1rem"},children:[N.jsxs("p",{style:{marginBottom:"0.5rem"},children:["Lade hoch (",Math.round(u),"%)..."]}),N.jsx("div",{style:{width:"100%",height:"6px",background:"#333",borderRadius:"3px",overflow:"hidden"},children:N.jsx("div",{style:{width:`${u}%`,height:"100%",background:"var(--kawasaki-green)",transition:"width 0.2s"}})})]}),N.jsxs("div",{className:"photo-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem"},children:[!e&&r.length===0&&N.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:[N.jsx(YR,{size:48,style:{opacity:.3,marginBottom:"1rem"}}),N.jsx("p",{children:"Noch keine Fotos."}),N.jsx("p",{style:{fontSize:"0.8rem"},children:"Lade jetzt dein erstes Bild hoch!"})]}),r&&r.map(E=>N.jsxs("div",{className:"photo-item",onClick:()=>m(E),style:{position:"relative",aspectRatio:"1",borderRadius:"12px",overflow:"hidden",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)",background:"#222"},children:[N.jsx("img",{src:E.url,alt:"Gallery",style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s"}}),N.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"40%",background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",pointerEvents:"none"}}),N.jsx("button",{onClick:T=>g(T,E.id,E.filePath),style:{position:"absolute",top:"8px",right:"8px",background:"rgba(0,0,0,0.6)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backdropFilter:"blur(4px)"},children:N.jsx(nf,{size:16})})]},E.id))]}),h&&N.jsx("div",{className:"modal-backdrop",onClick:()=>m(null),style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem",animation:"fadeIn 0.2s ease-out"},children:N.jsxs("div",{style:{position:"relative",maxWidth:"100%",maxHeight:"100%"},children:[N.jsx("img",{src:h.url,alt:"Full view",style:{maxWidth:"100%",maxHeight:"90vh",borderRadius:"8px",boxShadow:"0 0 20px rgba(0,0,0,0.5)"}}),N.jsx("button",{onClick:()=>m(null),style:{position:"absolute",top:"-40px",right:0,background:"transparent",color:"white",border:"none",cursor:"pointer"},children:N.jsx(iC,{size:32})}),N.jsx("div",{style:{position:"absolute",bottom:"-30px",left:0,right:0,textAlign:"center",color:"#999",fontSize:"0.9rem"},children:new Date(h.date).toLocaleDateString()})]})})]})};function Jk(){const r=B.useRef(),e=B.useRef(),{login:n,signup:s}=Mu(),[o,u]=B.useState(""),[h,m]=B.useState(!1),[p,g]=B.useState(!0);async function E(T){T.preventDefault();try{u(""),m(!0),p?await n(r.current.value,e.current.value):await s(r.current.value,e.current.value)}catch(A){console.error(A),u("Fehler beim Anmelden: "+A.message)}m(!1)}return N.jsx("div",{className:"login-container",style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",background:"radial-gradient(circle at top right, #1a2a1a 0%, var(--bg-primary) 40%)"},children:N.jsxs("div",{className:"glass-panel",style:{width:"100%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"center"},children:[N.jsx("div",{style:{background:"rgba(105, 190, 40, 0.2)",padding:"20px",borderRadius:"50%",marginBottom:"1.5rem",color:"var(--kawasaki-green)"},children:N.jsx(Np,{size:48})}),N.jsx("h2",{style:{margin:"0 0 2rem 0",color:"var(--text-primary)"},children:p?"Willkommen zurck":"Konto erstellen"}),o&&N.jsx("div",{style:{background:"rgba(255, 77, 79, 0.2)",color:"#ff4d4f",padding:"10px",borderRadius:"8px",marginBottom:"1rem",width:"100%",textAlign:"center"},children:o}),N.jsxs("form",{onSubmit:E,style:{width:"100%"},children:[N.jsx("input",{type:"email",ref:r,placeholder:"E-Mail Adresse",className:"input-field",required:!0}),N.jsx("input",{type:"password",ref:e,placeholder:"Passwort",className:"input-field",required:!0,minLength:"6"}),N.jsx("button",{disabled:h,className:"primary-btn",type:"submit",style:{marginTop:"1rem"},children:p?"Anmelden":"Registrieren"})]}),N.jsxs("p",{style:{marginTop:"1.5rem",color:"var(--text-secondary)"},children:[p?"Kein Konto?":"Bereits registriert?",N.jsx("button",{onClick:()=>g(!p),style:{background:"none",color:"var(--kawasaki-green)",fontWeight:"bold",marginLeft:"0.5rem",textDecoration:"underline"},children:p?"Registrieren":"Anmelden"})]})]})})}const Zk=({onUnlock:r})=>{const[e,n]=B.useState(""),[s,o]=B.useState(!1),u=m=>{if(e.length<4){const p=e+m;n(p),p.length===4&&setTimeout(()=>{r(p)||(o(!0),setTimeout(()=>{n(""),o(!1)},500))},100)}},h=()=>{n(e.slice(0,-1))};return N.jsxs("div",{className:"pin-container",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",background:"radial-gradient(circle at center, #2e2e2e, #121212)"},children:[N.jsx("div",{className:`lock-icon ${s?"shake":""}`,style:{marginBottom:"2rem",color:s?"#ff4d4f":"var(--kawasaki-green)",transition:"color 0.3s"},children:N.jsx(ST,{size:48})}),N.jsx("div",{className:"pin-indicator",style:{display:"flex",gap:"1rem",marginBottom:"3rem"},children:[...Array(4)].map((m,p)=>N.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:p<e.length?"var(--kawasaki-green)":"rgba(255, 255, 255, 0.2)",transition:"all 0.2s",transform:p<e.length?"scale(1.2)":"scale(1)"}},p))}),N.jsxs("div",{className:"keypad",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1.5rem",width:"100%",maxWidth:"300px"},children:[[1,2,3,4,5,6,7,8,9].map(m=>N.jsx("button",{onClick:()=>u(m),className:"keypad-btn",style:{width:"70px",height:"70px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1.5rem",border:"none",backdropFilter:"blur(10px)",cursor:"pointer",transition:"background 0.2s"},children:m},m)),N.jsx("div",{})," ",N.jsx("button",{onClick:()=>u(0),className:"keypad-btn",style:{width:"70px",height:"70px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1.5rem",border:"none",backdropFilter:"blur(10px)"},children:"0"}),N.jsx("button",{onClick:h,className:"keypad-btn",style:{width:"70px",height:"70px",borderRadius:"50%",background:"transparent",color:"var(--text-secondary)",fontSize:"1rem",border:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:"DEL"})]}),N.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-10px); }
          75% { transform: translateX(10px); }
        }
        .shake { animation: shake 0.3s ease-in-out; }
        .keypad-btn:active { background: rgba(105, 190, 40, 0.3) !important; transform: scale(0.95); }
      `})]})};class eM extends B.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?N.jsxs("div",{style:{padding:"2rem",color:"white",background:"#121212",minHeight:"100vh"},children:[N.jsx("h1",{style:{color:"#ff4d4f"},children:"Hoppla, ein Fehler ist aufgetreten."}),N.jsx("p",{children:"Bitte lade die Seite neu oder versuche es spter noch einmal."}),N.jsxs("details",{style:{marginTop:"1rem",color:"#666",whiteSpace:"pre-wrap"},children:[N.jsx("summary",{children:"Details anzeigen"}),this.state.error&&this.state.error.toString(),N.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),N.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"10px 20px",background:"var(--kawasaki-green)",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"},children:"Seite neu laden"})]}):this.props.children}}function tM(){return N.jsx(eM,{children:N.jsx(Fk,{children:N.jsx(nM,{})})})}function nM(){const{currentUser:r}=Mu(),[e,n]=B.useState(!0),[s,o]=B.useState(localStorage.getItem("mopped_pin")||"3706");if(!r)return N.jsx(Jk,{});if(e){const u=h=>h===s?(n(!1),!0):!1;return N.jsx(Zk,{onUnlock:u})}return N.jsx(RR,{basename:"/",children:N.jsx(iM,{onLock:()=>n(!0)})})}function iM({onLock:r}){const e=wp(),n=gs(),s=[{path:"/",label:"bersicht",icon:N.jsx(Np,{size:24})},{path:"/tech",label:"Technik",icon:N.jsx(xp,{size:24})},{path:"/finance",label:"Finanzen",icon:N.jsx(bT,{size:24})},{path:"/service",label:"Service",icon:N.jsx(wT,{size:24})},{path:"/accessories",label:"Zubehr",icon:N.jsx(AT,{size:24})},{path:"/gallery",label:"Galerie",icon:N.jsx(TT,{size:24})}];return N.jsxs("div",{className:"app-container fade-in",children:[N.jsxs("header",{style:{padding:"1rem 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsx("h1",{style:{margin:0,fontSize:"1.25rem",color:"var(--kawasaki-green)"},children:"Moppedtagebuch"}),N.jsx("button",{onClick:r,style:{background:"none",color:"var(--text-secondary)"},children:N.jsx(ST,{size:20})})]}),N.jsx("main",{style:{padding:"0 1rem 6rem 1rem"},children:N.jsxs(nR,{children:[N.jsx(Ws,{path:"/",element:N.jsx(Gk,{})}),N.jsx(Ws,{path:"/tech",element:N.jsx(Kk,{})}),N.jsx(Ws,{path:"/finance",element:N.jsx(Yk,{})}),N.jsx(Ws,{path:"/service",element:N.jsx(Qk,{})}),N.jsx(Ws,{path:"/accessories",element:N.jsx($k,{})}),N.jsx(Ws,{path:"/gallery",element:N.jsx(Wk,{})})]})}),N.jsx("nav",{className:"nav-bar scrollable-nav",children:s.map(o=>N.jsxs("button",{className:`nav-item ${n.pathname===o.path?"active":""}`,onClick:()=>e(o.path),children:[o.icon,N.jsx("span",{style:{marginTop:4},children:o.label})]},o.path))}),N.jsx("style",{children:`
        .scrollable-nav {
            overflow-x: auto;
            justify-content: flex-start;
            padding: 0 0.5rem;
        }
        .nav-item {
            min-width: 70px; /* Ensure 6 items fit or scroll */
        }
      `})]})}sw.createRoot(document.getElementById("root")).render(N.jsx(B.StrictMode,{children:N.jsx(tM,{})}));
